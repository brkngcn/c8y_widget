{"version":3,"file":"c8y-ngx-components-operations-operation-details.js","sources":["../../operations/operation-details/operation-details-modal.component.ts","../../operations/operation-details/operation-details.service.ts","../../operations/operation-details/operation-details.component.ts","../../operations/operation-details/operation-details.module.ts","../../operations/operation-details/c8y-ngx-components-operations-operation-details.ts"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { IOperation } from '@c8y/client';\n\n@Component({\n  selector: 'c8y-operation-details-modal',\n  templateUrl: './operation-details-modal.component.html'\n})\nexport class OperationDetailsModalComponent {\n  @Input() operation: Partial<IOperation>;\n  @Input() collapsed: boolean = false;\n  @Input() readOnly: boolean = false;\n\n  constructor(public modalRef: BsModalRef) {}\n}\n","import { Injectable } from '@angular/core';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { IOperation, OperationService } from '@c8y/client';\nimport { OperationDetailsModalComponent } from './operation-details-modal.component';\n\n@Injectable()\nexport class OperationDetailsService {\n  constructor(private operationService: OperationService, private modalService: BsModalService) {}\n\n  /**\n   * Opens a modal window with the details of given single operation.\n   * @param operationOrOperationId Operation's object or id.\n   * @param options Additional options:\n   * - `collapsed`: boolean - whether the details pane should be initially collapsed\n   * - `readOnly`: boolean - whether the details should be displayed in read-only mode\n   */\n  async openDetails(\n    operationOrOperationId: IOperation | string | number,\n    options?: { collapsed?: boolean; readOnly?: boolean }\n  ) {\n    const operation: IOperation = (operationOrOperationId as IOperation).id\n      ? (operationOrOperationId as IOperation)\n      : (await this.operationService.detail(operationOrOperationId)).data;\n    const initialState = { operation, ...options };\n\n    this.modalService.show(OperationDetailsModalComponent, {\n      initialState,\n      class: 'modal-lg'\n    });\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { IOperation } from '@c8y/client';\nimport { operationStatusClasses, operationStatusIcons } from '@c8y/ngx-components';\nimport { OperationDetailsService } from './operation-details.service';\n\n/**\n * Operation details component displays a single operation's status, description and creationTime.\n *\n * Example:\n *\n * ```html\n * <c8y-operation-details [operation]=\"operation\"></c8y-operation-details>\n * ```\n */\n@Component({\n  selector: 'c8y-operation-details',\n  templateUrl: './operation-details.component.html'\n})\nexport class OperationDetailsComponent {\n  @Input() operation: IOperation;\n\n  statusIcons: object;\n  statusClasses: object;\n\n  constructor(private operationDetailsService: OperationDetailsService) {}\n\n  ngOnInit() {\n    this.statusIcons = operationStatusIcons;\n    this.statusClasses = operationStatusClasses;\n  }\n\n  openDetails() {\n    this.operationDetailsService.openDetails(this.operation);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\n\nimport { CoreModule } from '@c8y/ngx-components';\nimport { BulkOperationListItemService } from '@c8y/ngx-components/operations/bulk-operation-list-item';\nimport { OperationsListModule } from '@c8y/ngx-components/operations/operations-list';\n\nimport { OperationDetailsService } from './operation-details.service';\nimport { OperationDetailsComponent } from './operation-details.component';\nimport { OperationDetailsModalComponent } from './operation-details-modal.component';\n\n/**\n * This module allows to display details of a single operation in a modal.\n */\n@NgModule({\n  imports: [CoreModule, PopoverModule, TooltipModule, CollapseModule, OperationsListModule],\n  providers: [OperationDetailsService, BulkOperationListItemService],\n  declarations: [OperationDetailsComponent, OperationDetailsModalComponent],\n  entryComponents: [OperationDetailsComponent, OperationDetailsModalComponent],\n  exports: [OperationDetailsComponent]\n})\nexport class OperationDetailsModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;;;;MAQa,8BAA8B;IAKzC,YAAmB,QAAoB;QAApB,aAAQ,GAAR,QAAQ,CAAY;QAH9B,cAAS,GAAY,KAAK,CAAC;QAC3B,aAAQ,GAAY,KAAK,CAAC;KAEQ;;;YAT5C,SAAS,SAAC;gBACT,QAAQ,EAAE,6BAA6B;gBACvC,wlBAAuD;aACxD;;;YANQ,UAAU;;;wBAQhB,KAAK;wBACL,KAAK;uBACL,KAAK;;;MCLK,uBAAuB;IAClC,YAAoB,gBAAkC,EAAU,YAA4B;QAAxE,qBAAgB,GAAhB,gBAAgB,CAAkB;QAAU,iBAAY,GAAZ,YAAY,CAAgB;KAAI;;;;;;;;IAS1F,WAAW,CACf,sBAAoD,EACpD,OAAqD;;YAErD,MAAM,SAAS,GAAgB,sBAAqC,CAAC,EAAE;kBAClE,sBAAqC;kBACtC,CAAC,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,sBAAsB,CAAC,EAAE,IAAI,CAAC;YACtE,MAAM,YAAY,mBAAK,SAAS,IAAK,OAAO,CAAE,CAAC;YAE/C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,8BAA8B,EAAE;gBACrD,YAAY;gBACZ,KAAK,EAAE,UAAU;aAClB,CAAC,CAAC;SACJ;KAAA;;;YAxBF,UAAU;;;YAHU,gBAAgB;YAD5B,cAAc;;;ACIvB;;;;;;;;;MAaa,yBAAyB;IAMpC,YAAoB,uBAAgD;QAAhD,4BAAuB,GAAvB,uBAAuB,CAAyB;KAAI;IAExE,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG,oBAAoB,CAAC;QACxC,IAAI,CAAC,aAAa,GAAG,sBAAsB,CAAC;KAC7C;IAED,WAAW;QACT,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAC1D;;;YAnBF,SAAS,SAAC;gBACT,QAAQ,EAAE,uBAAuB;gBACjC,kqCAAiD;aAClD;;;YAdQ,uBAAuB;;;wBAgB7B,KAAK;;;ACNR;;;MAUa,sBAAsB;;;YAPlC,QAAQ,SAAC;gBACR,OAAO,EAAE,CAAC,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,cAAc,EAAE,oBAAoB,CAAC;gBACzF,SAAS,EAAE,CAAC,uBAAuB,EAAE,4BAA4B,CAAC;gBAClE,YAAY,EAAE,CAAC,yBAAyB,EAAE,8BAA8B,CAAC;gBACzE,eAAe,EAAE,CAAC,yBAAyB,EAAE,8BAA8B,CAAC;gBAC5E,OAAO,EAAE,CAAC,yBAAyB,CAAC;aACrC;;;ACtBD;;;;;;"}