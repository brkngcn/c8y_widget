{"version":3,"file":"c8y-ngx-components-datapoint-library.js","sources":["../../datapoint-library/datapoint-library.model.ts","../../datapoint-library/datapoint-library-details/datapoint-library-details.component.ts","../../datapoint-library/datapoint-library-list.component.ts","../../datapoint-library/datapoint-library.module.ts","../../datapoint-library/c8y-ngx-components-datapoint-library.ts"],"names":[],"mappings":"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","sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const pathToDatapointLibrary = 'datapointlibrary';\n\nexport const DATAPOINT_LIBRARY_CONFIG = new InjectionToken<DatapointLibraryOptions>(\n  'DatapointLibraryOptions'\n);\n\nexport interface DatapointLibraryOptions {\n  /**\n   * Allows to define whether the c8y_Global fragment should be added per default on newly created datapoints.\n   */\n  doNotAddGlobalFragmentByDefault?: boolean;\n  /**\n   * Will make a checkbox visible that allows the user to take the decision if the c8y_Global fragment should be set or not.\n   */\n  showCheckboxForGlobalFragment?: boolean;\n}\n","import { Component, Inject, OnDestroy, OnInit, Optional } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Data, Router } from '@angular/router';\nimport { IManagedObject, InventoryService } from '@c8y/client';\nimport { AlertService, gettext, HumanizePipe } from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { get } from 'lodash-es';\nimport { Subscription } from 'rxjs';\nimport {\n  DatapointLibraryOptions,\n  DATAPOINT_LIBRARY_CONFIG,\n  pathToDatapointLibrary\n} from '../datapoint-library.model';\nimport { C8yValidators, ColorService } from '@c8y/ngx-components';\nimport { DatapointParserService } from '@c8y/ngx-components/datapoint-library/services';\n\n@Component({\n  selector: 'c8y-datapoint-library-details',\n  templateUrl: './datapoint-library-details.component.html'\n})\nexport class DatapointLibraryDetailsComponent implements OnInit, OnDestroy {\n  path = pathToDatapointLibrary;\n  formGroup: FormGroup;\n  range: FormGroup;\n  redRange: FormGroup;\n  yellowRange: FormGroup;\n  datapoint: IManagedObject;\n  isLoading = true;\n\n  rangeConfig = {};\n\n  routeSub: Subscription;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private inventory: InventoryService,\n    private formBuilder: FormBuilder,\n    private alertService: AlertService,\n    private router: Router,\n    private translate: TranslateService,\n    private colorService: ColorService,\n    private parser: DatapointParserService,\n    @Optional() @Inject(DATAPOINT_LIBRARY_CONFIG) public config: DatapointLibraryOptions\n  ) {\n    this.initForm();\n  }\n\n  ngOnInit() {\n    this.routeSub = this.activatedRoute.parent.data.subscribe(data => {\n      this.load(data);\n    });\n  }\n\n  ngOnDestroy(): void {\n    if (this.routeSub) {\n      this.routeSub.unsubscribe();\n    }\n  }\n\n  async save(value) {\n    const kpiValues = this.extractKpiValuesFromFormValue(value);\n    const kpi = Object.assign({}, this.datapoint?.c8y_Kpi || {}, kpiValues);\n    const cleanedUpKpi = this.removeNullValues(kpi);\n\n    const mo: Partial<IManagedObject> = {\n      c8y_Kpi: cleanedUpKpi,\n      c8y_Global: value.c8y_Global ? {} : null\n    };\n    try {\n      if (this.datapoint?.id) {\n        mo.id = this.datapoint.id;\n        const res = await this.inventory.update(mo);\n        this.datapointUpdate(res.data);\n        this.alertService.saveSuccess(gettext('Data point library entry'))();\n      } else {\n        const res = await this.inventory.create(mo);\n        this.datapointUpdate(res.data);\n        this.alertService.createSuccess(gettext('Data point library entry'))();\n      }\n      this.navigateBackToList();\n    } catch (e) {\n      this.alertService.addServerFailure(e);\n    }\n  }\n\n  cancel() {\n    this.navigateBackToList();\n  }\n\n  formChange() {\n    if (this.formGroup.invalid) {\n      return;\n    }\n    const kpiValues = this.extractKpiValuesFromFormValue(this.formGroup.value);\n    this.rangeConfig = Object.assign({ orientation: 'horizontal' }, kpiValues);\n  }\n\n  private navigateBackToList() {\n    return this.router.navigate([pathToDatapointLibrary]);\n  }\n\n  private datapointUpdate(tmpDatapoint: IManagedObject) {\n    const datapoint = this.parser.parseDatapoint(tmpDatapoint);\n    this.datapoint = datapoint;\n    const {\n      fragment,\n      series,\n      description,\n      unit,\n      target,\n      label,\n      color,\n      yellowRangeMin,\n      yellowRangeMax,\n      redRangeMin,\n      redRangeMax,\n      min,\n      max\n    } = datapoint.c8y_Kpi;\n    this.formGroup.patchValue({\n      fragment,\n      series,\n      description,\n      unit,\n      target,\n      label,\n      color,\n      range: { min, max },\n      yellowRange: { min: yellowRangeMin, max: yellowRangeMax },\n      redRange: { min: redRangeMin, max: redRangeMax },\n      c8y_Global: !!datapoint.c8y_Global\n    });\n    this.formChange();\n  }\n\n  private extractKpiValuesFromFormValue(formValue: any) {\n    const { fragment, series, description, unit, target, label, color } = formValue;\n    return {\n      fragment,\n      series,\n      description,\n      unit,\n      target,\n      label,\n      color,\n      yellowRangeMin: get(formValue, 'yellowRange.min'),\n      yellowRangeMax: get(formValue, 'yellowRange.max'),\n      redRangeMin: get(formValue, 'redRange.min'),\n      redRangeMax: get(formValue, 'redRange.max'),\n      min: get(formValue, 'range.min'),\n      max: get(formValue, 'range.max')\n    };\n  }\n\n  private async load(data: Data) {\n    this.isLoading = true;\n    this.formGroup.reset();\n    const { fragment, series } = this.activatedRoute.snapshot.queryParams;\n    const humanize = new HumanizePipe();\n    const label =\n      fragment && series\n        ? humanize.transform(`${fragment} => ${series}`)\n        : this.translate.instant(gettext('New data point template'));\n    const currentDate = new Date().toISOString();\n    const color = await this.colorService.generateColor(currentDate);\n    const contextData = (data && data.contextData) || {\n      c8y_Kpi: {\n        label,\n        fragment,\n        series,\n        color\n      },\n      c8y_Global: !this.config?.doNotAddGlobalFragmentByDefault ? {} : null\n    };\n    const { id } = contextData;\n    if (id) {\n      this.datapointUpdate((await this.inventory.detail(id)).data);\n    } else {\n      this.datapointUpdate(contextData);\n    }\n    this.isLoading = false;\n  }\n\n  private initForm(): void {\n    this.range = this.formBuilder.group(\n      {\n        min: [undefined, []],\n        max: [undefined, []]\n      },\n      { validators: [C8yValidators.minMaxValidator(), C8yValidators.requireBothMinAndMax()] }\n    );\n    this.redRange = this.formBuilder.group(\n      {\n        min: [undefined, []],\n        max: [undefined, []]\n      },\n      { validators: [C8yValidators.minMaxValidator(), C8yValidators.requireBothMinAndMax()] }\n    );\n    this.yellowRange = this.formBuilder.group(\n      {\n        min: [undefined, []],\n        max: [undefined, []]\n      },\n      { validators: [C8yValidators.minMaxValidator(), C8yValidators.requireBothMinAndMax()] }\n    );\n    this.formGroup = this.formBuilder.group(\n      {\n        color: ['', [Validators.required, Validators.minLength(4)]],\n        label: ['', [Validators.required, Validators.minLength(1), Validators.maxLength(120)]],\n        description: ['', []],\n        fragment: [\n          '',\n          [\n            Validators.required,\n            Validators.minLength(1),\n            Validators.maxLength(120),\n            Validators.pattern(/^[^.]*$/)\n          ]\n        ],\n        series: [\n          '',\n          [\n            Validators.required,\n            Validators.minLength(1),\n            Validators.maxLength(120),\n            Validators.pattern(/^[^.]*$/)\n          ]\n        ],\n        range: this.range,\n        unit: [undefined, []],\n        target: [undefined, []],\n        redRange: this.redRange,\n        yellowRange: this.yellowRange,\n        c8y_Global: [!this.config?.doNotAddGlobalFragmentByDefault, []]\n      },\n      {\n        validators: [\n          C8yValidators.withinScale('redRange.min'),\n          C8yValidators.withinScale('redRange.max'),\n          C8yValidators.withinScale('yellowRange.min'),\n          C8yValidators.withinScale('yellowRange.max'),\n          C8yValidators.withinScale('target')\n        ]\n      }\n    );\n  }\n\n  private removeNullValues(value) {\n    // remove null values before sending data to backend\n    const cleanedupValues = Object.assign({}, value);\n    Object.keys(cleanedupValues).forEach(key => {\n      if (cleanedupValues[key] === null) {\n        delete cleanedupValues[key];\n      }\n    });\n    return cleanedupValues;\n  }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IManagedObject, InventoryService, IResultList } from '@c8y/client';\nimport { AlertService, gettext, ModalService } from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BehaviorSubject, Observable, pipe } from 'rxjs';\nimport { map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { pathToDatapointLibrary } from './datapoint-library.model';\nimport { DatapointParserService } from '@c8y/ngx-components/datapoint-library/services';\n\n@Component({\n  selector: 'c8y-datapoint-library-list',\n  templateUrl: './datapoint-library-list.component.html'\n})\nexport class DatapointLibraryListComponent {\n  listClass = '';\n  isLoading = true;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n  datapoints$: Observable<IResultList<IManagedObject>> = this.reload$.pipe(\n    tap(() => {\n      this.isLoading = true;\n    }),\n    switchMap(() => this.getDatapoints()),\n    tap(() => {\n      this.isLoading = false;\n    }),\n    shareReplay()\n  );\n\n  parsePipe = pipe(map((data: IManagedObject[]) => this.parser.parseDatapoints(data)));\n\n  constructor(\n    private inventory: InventoryService,\n    private router: Router,\n    private modalService: ModalService,\n    private translateService: TranslateService,\n    private alertService: AlertService,\n    private parser: DatapointParserService\n  ) {}\n\n  getDatapoints(): Promise<IResultList<IManagedObject>> {\n    return this.inventory.list({ pageSize: 20, fragmentType: 'c8y_Kpi', withTotalPages: true });\n  }\n\n  addDatapointEntry() {\n    this.router.navigate([pathToDatapointLibrary, 'new']);\n  }\n\n  editDatapointEntry(entry: IManagedObject) {\n    this.router.navigate([pathToDatapointLibrary, entry.id]);\n  }\n\n  async removeDatapointEntry(entry: IManagedObject) {\n    try {\n      await this.modalService.confirm(\n        gettext('Delete data point'),\n        this.translateService.instant(\n          gettext('You are about to delete data point \"{{ dpLabel }}\". Do you want to proceed?'),\n          { dpLabel: entry.c8y_Kpi.label }\n        ),\n        'danger'\n      );\n    } catch (e) {\n      return;\n    }\n    try {\n      await this.inventory.delete(entry.id);\n      this.reload$.next();\n    } catch (e) {\n      this.alertService.addServerFailure(e);\n    }\n  }\n\n  reload() {\n    this.reload$.next();\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport {\n  CoreModule,\n  gettext,\n  HOOK_NAVIGATOR_NODES,\n  HOOK_ROUTE,\n  NavigatorNode,\n  Route,\n  ViewContext\n} from '@c8y/ngx-components';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { DatapointLibraryDetailsComponent } from './datapoint-library-details/datapoint-library-details.component';\nimport { DatapointLibraryListComponent } from './datapoint-library-list.component';\nimport {\n  DatapointLibraryOptions,\n  DATAPOINT_LIBRARY_CONFIG,\n  pathToDatapointLibrary\n} from './datapoint-library.model';\n\n@NgModule({\n  imports: [CoreModule, BsDropdownModule, PopoverModule],\n  declarations: [DatapointLibraryListComponent, DatapointLibraryDetailsComponent],\n  exports: [DatapointLibraryListComponent, DatapointLibraryDetailsComponent]\n})\nexport class DatapointLibraryModule {\n  static forRoot(\n    config: DatapointLibraryOptions = {}\n  ): ModuleWithProviders<DatapointLibraryModule> {\n    return {\n      ngModule: DatapointLibraryModule,\n      providers: [\n        {\n          provide: HOOK_ROUTE,\n          useValue: [\n            {\n              path: pathToDatapointLibrary,\n              component: DatapointLibraryListComponent\n            },\n            {\n              context: ViewContext.DatapointLibrary,\n              path: 'details',\n              component: DatapointLibraryDetailsComponent,\n              label: gettext('Details'),\n              icon: 'palette',\n              priority: 500\n            }\n          ] as Route[],\n          multi: true\n        },\n        {\n          provide: HOOK_NAVIGATOR_NODES,\n          useValue: [\n            new NavigatorNode({\n              parent: gettext('Configuration'),\n              label: gettext('Data point library'),\n              featureId: 'dataPointLibrary',\n              path: pathToDatapointLibrary,\n              icon: 'c8y-data-points',\n              routerLinkExact: false\n            })\n          ],\n          multi: true\n        },\n        {\n          provide: DATAPOINT_LIBRARY_CONFIG,\n          useValue: config\n        }\n      ]\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}