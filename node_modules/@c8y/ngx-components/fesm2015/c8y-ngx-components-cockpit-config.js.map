{"version":3,"file":"c8y-ngx-components-cockpit-config.js","sources":["../../cockpit-config/cockpit-config.model.ts","../../cockpit-config/cockpit-config.guard.ts","../../cockpit-config/cockpit-config.service.ts","../../cockpit-config/cockpit-configuration.component.ts","../../cockpit-config/feature-config.component.ts","../../cockpit-config/home-dashboard-config.component.ts","../../cockpit-config/misc-config.component.ts","../../cockpit-config/root-node-config.component.ts","../../cockpit-config/setup/cockpit-setup-step.ts","../../cockpit-config/setup/cockpit-setup-step1.component.ts","../../cockpit-config/setup/cockpit-setup-step2.component.ts","../../cockpit-config/setup/cockpit-setup-step3.component.ts","../../cockpit-config/setup/cockpit-setup-step4.component.ts","../../cockpit-config/setup/cockpit-setup-stepper-buttons.component.ts","../../cockpit-config/cockpit-config.module.ts","../../cockpit-config/c8y-ngx-components-cockpit-config.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAAa,2BAA2B,GAAG,gBAAgB;AAC3D,MAAa,wBAAwB,GAAG,oBAAoB;AAC5D,MAqBa,cAAc,GAAkB;AAC7C,IAAE,SAAS,EAAE,EAAE;AACf,IAAE,QAAQ,EAAE;AACZ,QAAI,MAAM,EAAE,IAAI;AAChB,QAAI,YAAY,EAAE,IAAI;AACtB,QAAI,MAAM,EAAE,IAAI;AAChB,QAAI,OAAO,EAAE,IAAI;AACjB,QAAI,OAAO,EAAE,IAAI;AACjB,QAAI,gBAAgB,EAAE,IAAI;AAC1B,QAAI,gBAAgB,EAAE,IAAI;AAC1B,QAAI,UAAU,EAAE,IAAI;AACpB,QAAI,SAAS,EAAE,IAAI;AACnB,QAAI,MAAM,EAAE,IAAI;AAChB,KAAG;AACH,IAAE,aAAa,EAAE,KAAK;AACtB,IAAE,iBAAiB,EAAE,2BAA2B;AAChD,IAAE,yBAAyB,EAAE,KAAK;AAClC,EAAE;AACF,IAOY;AAAZ,WAAY,iBAAiB;AAC5B;AACE;AACE;AACE,IAAL,+DAAO,CAAA;AAAC;AAET;AACE;AACE,IAAH,uDAAG,CAAA;AAAC;AAEL;AACE;AACE,IAAH,yDAAI,CAAA;AACN,CAAC,EAbW,iBAAiB,KAAjB,iBAAiB,QAa5B;AACD,MACa,mBAAmB,GAAG;AACnC;AAAC,MCjDY,kBAAkB;AAAG,IAShC,YACU,WAAwB,EACxB,QAAyB,EACzB,gBAAkC;AAC3C,QAHS,gBAAW,GAAX,WAAW,CAAa;AAAC,QACzB,aAAQ,GAAR,QAAQ,CAAiB;AAAC,QAC1B,qBAAgB,GAAhB,gBAAgB,CAAkB;AAC9C,QAZqB,eAAU,GAAkB,IAAI,aAAa,CAAC;AACnE,YAAI,IAAI,EAAE,IAAI,mBAAmB,EAAE;AACnC,YAAI,MAAM,EAAE,OAAO,CAAC,eAAe,CAAC;AACpC,YAAI,KAAK,EAAE,OAAO,CAAC,mBAAmB,CAAC;AACvC,YAAI,IAAI,EAAE,eAAe;AACzB,YAAI,iBAAiB,EAAE,IAAI;AAC3B,SAAG,CAAC,CAAC;AACL,KAKM;AACN,IACE,GAAG;AAAK,QACN,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;AAC5B,YAAM,OAAO,IAAI,CAAC,UAAU,CAAC;AAC7B,SAAK;AACL,QAAI,OAAO;AACX,KAAG;AACH,IACE,WAAW;AAAK,QACd,QACE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,mCAAmC,CAAC;AACnE,YAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,KAAK,CAAC,EACrE;AACN,KAAG;AACH;mOAAC;AACD,uRA7BK;AAAC;EAHL,UAAU,SAAC,rBAGsC,YARhD,WAAW;YAMX,UAAU,EAAE,MAAM,9BALjB,YALD,eAAe;aAWhB,bAVC,YAKO,gBAAgB;AAAG;;;;;;iJAAE;AAAC;AAAC,MCenB,oBAAoB;AACjC,IAWE,YACU,gBAAkC,EAClC,WAAwB,EACxB,aAA4B,EAC5B,gBAAkC,EAClC,gBAAkC,EAClC,QAAyB,EACzB,cAA8B,EAC9B,WAAwB,EACmB,YAAkC;AACtF,QATS,qBAAgB,GAAhB,gBAAgB,CAAkB;AAAC,QACnC,gBAAW,GAAX,WAAW,CAAa;AAAC,QACzB,kBAAa,GAAb,aAAa,CAAe;AAAC,QAC7B,qBAAgB,GAAhB,gBAAgB,CAAkB;AAAC,QACnC,qBAAgB,GAAhB,gBAAgB,CAAkB;AAAC,QACnC,aAAQ,GAAR,QAAQ,CAAiB;AAAC,QAC1B,mBAAc,GAAd,cAAc,CAAgB;AAAC,QAC/B,gBAAW,GAAX,WAAW,CAAa;AAAC,QACkB,iBAAY,GAAZ,YAAY,CAAsB;AACzF,QArBE,kBAAa,GAAkB,cAAc,CAAC;AAChD,QAAE,UAAK,GAAoB,EAAE,CAAC;AAC9B,QACmB,0BAAqB,GAAG,IAAI,CAAC;AAChD,QAkBI,IAAI,CAAC,yBAAyB,EAAE,CAAC;AACrC,QAAI,IAAI,CAAC,IAAI,EAAE,CAAC;AAChB,KAAG;AACH,IApBE,IAAI,mBAAmB;AACzB,QAAI,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,MAAM,CACpD,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CACzC,CAAC;AACN,KAAG;AACH,IAgBE,IAAI;AACN,QAAI,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,SAAS,CAAC,MAAM;AAC3D,YAAM,IAAI,MAAM,EAAE;AAClB,gBAAQ,IAAI,CAAC,aAAa,GAAG,gCAAK,cAAc,GAAK,MAAM,CAAmB,CAAC;AAC/E,gBAAQ,IAAI,CAAC,YAAY,EAAE,CAAC;AAC5B,aAAO;AACP,SAAK,CAAC,CAAC;AACP,KAAG;AACH,IACQ,UAAU,CAAC,MAAM;AACzB;AAC6B,YADzB,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;AAChC,YAAI,MAAM,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAC1D,SAAG;AAEF,KAFE;AACH,IACE,OAAO;AACT,QAAI,IAAI,CAAC,cAAc,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;AACzE,QAAI,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC;AACpC,QAAI,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;AACjC,KAAG;AACH,IACQ,YAAY;AACpB;AAAgB;AAC8B,YAD1C,IAAI,CAAC,mBAAmB,EAAE,CAAC;AAC/B,YAAI,KAAK,MAAM,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;AACrD,gBAAM,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACnE,gBAAM,IAAI,IAAI,EAAE;AAChB,oBAAQ,IAAI,CAAC,KAAK,CAAC,IAAI,CACb,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC;AAChD,wBAAY,EAAE,EAAE,IAAI;AACpB,wBAAY,WAAW,EAAE,IAAI,CAAC,WAAW;AACzC,wBAAY,QAAQ,EAAE,WAAW,CAAC,MAAA,IAAI,CAAC,YAAY,0CAAE,gBAAgB,CAAC;AACtE,8BAAgB,IAAI,CAAC,qBAAqB;AAC1C,8BAAgB,IAAI,CAAC,YAAY,CAAC,gBAAgB;AAClD,qBAAW,CAAC,CACH,CAAC;AACV,iBAAO;AACP,aAAK;AACL,YAAI,IAAI,CAAC,OAAO,EAAE,CAAC;AACnB;AAEO,KAFJ;AACH,IACE,mBAAmB;AACrB,QAAI,OAAO,GAAG,2BAA2B,CAAC,SAAS,CAAC,CAAC,EAAE,2BAA2B,CAAC,MAAM,GAAG,CAAC,CAAC,IACxF,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,EAC1B,EAAE,CAAC;AACP,KAAG;AACH,IACgB,sBAAsB,CAAC,MAAqB;AAC5D;AAA8D,YAA1D,MAAM,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAgB,MAAM,CAAC,CAAC;AACvE,SAAG;AAEF,KAFE;AACH,IACU,mBAAmB;AAC7B,QAAI,MAAM,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAC1D,KAAK,IAAI,KAAK,KAAK,IAAI,CAAC,KAAK,CACX,CAAC;AACzB,QAAI,MAAM,wBAAwB,GAAG,CAAC,CAAC,eAAe,CAAC;AACvD,QAAI,IAAI,wBAAwB,EAAE;AAClC,YAAM,IAAI,CAAC,KAAK,GAAG,eAAe,CAAC;AACnC,YAAM,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;AAC5B,SAAK;AAAC,aAAK;AACX,YAAM,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACvD,SAAK;AACL,KAAG;AACH,IACU,yBAAyB;AACnC,QAAI,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAC9D,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,EAC3C,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAC9C,CAAC;AACN,QAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC/F,QAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CACxD,GAAG,CAAC,MAAM,KAAK,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,GAAG,EAAE,CAAC,CAAC,CAClE,CAAC;AACN,KAAG;AACH,IACU,iBAAiB,CAAC,KAAK;AACjC,QAAI,KAAK,CAAC,OAAO,CAAC,IAAI;AACtB,YAAM,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,GAAG;AAC1D,gBAAQ,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;AAClE,gBACQ,IAAI,SAAS,EAAE;AACvB,oBAAU,IACE,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,mCAAmC,CAAC;AAC1E,wBAAY,SAAS,CAAC,cAAc,KAAK,SAAS;AAClD,wBAAY,SAAS,CAAC,MAAM,KAAK,IAAI,EACzB;AACZ,wBAAY,SAAS,CAAC,cAAc,GAAG,SAAS,CAAC,MAAM,CAAC;AACxD,qBAAW;AACX,iBAAS;AACT,aAAO,CAAC,CAAC;AACT,SAAK,CAAC,CAAC;AACP,QAAI,OAAO,KAAK,CAAC;AACjB,KAAG;AACH,IACU,UAAU,CAAC,IAAW;AAChC,QAAI,OAAO,IAAI,CAAC,MAAM,CAChB,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,SAAS,KAAK,GAAG,CAAC,CACpE,CAAC;AACN,KAAG;AACH,IACU,mBAAmB,CAAC,KAAsB;AACpD,QAAI,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;AAC7B,YAAM,OAAO,KAAK,CAAC;AACnB,SAAK;AACL,QAAI,MAAM,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,CAAC;AACtD,QAAI,MAAM,aAAa,GAAG,KAAK,CAAC,MAAM,CAChC,IAAI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,KAAK,GAAG,CAAC,CAC9D,CAAC;AACN,QACI,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;AACrC,QAAI,IAAI,CAAC,gCAAgC,CAAC,KAAK,EAAE,gBAAgB,CAAC,CAAC;AACnE,QAAI,OAAO,aAAa,CAAC;AACzB,KAAG;AACH,IACU,gCAAgC,CAAC,KAAsB,EAAE,gBAA0B;AAC7F,QAAI,KAAK,CAAC,OAAO,CAAC,IAAI,IAChB,gBAAgB,CAAC,OAAO,CAAC,GAAG;AAClC,YAAQ,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;AACtD,YAAQ,IAAI,SAAS,EAAE;AACvB,gBAAU,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;AAClC,aAAS;AACT,SAAO,CAAC,CACH,CAAC;AACN,KAAG;AACH,IACU,oBAAoB,CAAC,KAAsB;AACrD,QAAI,KAAK,CAAC,OAAO,CAAC,IAAI;AACtB,YAAM,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,GAAG;AAC1D,gBAAQ,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;AAClE,gBACQ,IAAI,SAAS,EAAE;AACvB,oBAAU,IAAI,SAAS,CAAC,cAAc,KAAK,IAAI,EAAE;AACjD,wBAAY,OAAO;AACnB,qBAAW;AACX,oBACU,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;AACnC,iBAAS;AACT,aAAO,CAAC,CAAC;AACT,SAAK,CAAC,CAAC;AACP,KAAG;AACH;6dAAC;AACD,8eAtKK;AAAC;EAHL,UAAU,SAAC,rBAII,YApBd,gBAAgB;OAiBhB,UAAU,EAAE,MAAM,zBAhBlB,YAIA,WAAW;YAaZ,ZAZE,YAHD,aAAa;AACb,YAKA,gBAAgB;AAChB,YAdO,gBAAgB;AAAI,YAE3B,eAAe;AACf,YAEA,cAAc;AACd,YAAA,WAAW;AACX,4CAqCG,QAAQ,YAAI,MAAM,SAAC,sBAAsB;AAAQ;;;;;;;;;;;kCAAE;AAAC;AAAC,MCpC7C,6BAA6B;AAAG,IAM3C,YACU,oBAA0C,EAC1C,YAA0B;AACnC,QAFS,yBAAoB,GAApB,oBAAoB,CAAsB;AAAC,QAC3C,iBAAY,GAAZ,YAAY,CAAc;AACtC;AAEI;AAIK;AAAY,QAXnB,WAAM,GAAkB,cAAc,CAAC;AACzC,KAIM;AACN;AAEC;AACE;AACE,IAAH,QAAQ;AACV,QAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC;AAC1D,KAAG;AACH;AAEC;AACE;AACE,IAAG,IAAI;AACZ;AACoD,YADhD,IAAI;AACR,gBAAM,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC9D,gBAAM,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,8BAA8B,CAAC,CAAC,CAAC;AACzE,aAAK;AAAC,YAAA,OAAO,EAAE,EAAE;AACjB,gBAAM,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;AAC7C,aAAK;AACL,SAAG;AAEF,KAFE;AACH;AAEC;AACE;AACE,IAAH,cAAc;AAChB,QAAI,IAAI,CAAC,oBAAoB,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC;AAC1D,QAAI,IAAI,CAAC,oBAAoB,CAAC,OAAO,EAAE,CAAC;AACxC,KAAG;AACH;AAEC;AACE;AACE,IAAH,eAAe;AACjB,QAAI,IAAI,CAAC,oBAAoB,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC;AAC1D,QAAI,IAAI,CAAC,oBAAoB,CAAC,YAAY,EAAE,CAAC;AAC7C,KAAG;AACH;yDAjDC,SAAS,SAAC,kBACT,QAAQ,EAAE,2BAA2B,kBACrC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAAqD,cACtD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0aACI;AAAC;AAAuD,YANpD,oBAAoB;AAAI,YAFxB,YAAY;AAAG;;;;;;;6GAAE;AAAC;AAAC,MCMf,sBAAsB;AACnC,IALA;AACG,QAQD,aAAQ,GAAG,IAAI,YAAY,EAAQ,CAAC;AACtC,KAIC;AACD,IAJE,cAAc;AAChB,QAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AACzB,KAAG;AACH;kDAdC,SAAS,SAAC,kBACT,QAAQ,EAAE,oBAAoB;YAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qBAA8C,cAC/C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2QACI;AAAC;AACI,qBAAP,KAAK;AACN,uBAEC,MAAM;AACR;;;;;;;;;;;oBAAE;AAAC;AAAC,MCCQ,4BAA4B;AACzC;AAAQ;AACI;AAAQ,IAUlB,YAAoB,oBAA0C;AAAI,QAA9C,yBAAoB,GAApB,oBAAoB,CAAsB;AAAC;AAGhE;AAEuC;AAAY,QAVzC,uBAAkB,GAAG,iBAAiB,CAAC;AAClD,KAIoE;AACpE;AAEC;AACE;AACE,IAAH,eAAe,CAAC,QAAiB,EAAE,IAAuB;AAC5D,QAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,YAAM,OAAO;AACb,SAAK;AACL,QACI,QAAQ,IAAI;AAChB,YAAM,KAAK,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE;AAC5C,gBAAQ,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,2BAA2B,CAAC;AACpE,gBAAQ,IAAI,CAAC,MAAM,CAAC,yBAAyB,GAAG,KAAK,CAAC;AACtD,gBAAQ,MAAM;AACd,aAAO;AACP,YAAM,KAAK,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE;AACxC,gBAAQ,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,EAAE,CAAC;AACxF,gBAAQ,IAAI,CAAC,MAAM,CAAC,yBAAyB,GAAG,KAAK,CAAC;AACtD,gBAAQ,MAAM;AACd,aAAO;AACP,YAAM,KAAK,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE;AACzC,gBAAQ,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,wBAAwB,CAAC;AACjE,gBAAQ,IAAI,CAAC,MAAM,CAAC,yBAAyB,GAAG,IAAI,CAAC;AACrD,gBAAQ,MAAM;AACd,aAAO;AACP,SAAK;AACL,KAAG;AACH;AAEC;AACE;AACE,IAAH,cAAc,CAAC,IAAuB;AACxC,QAAI,IAAI,IAAI,KAAK,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE;AAC/C,YAAM,OAAO,IAAI,CAAC,MAAM,CAAC,yBAAyB,CAAC;AACnD,SAAK;AACL,QAAI,IAAI,IAAI,KAAK,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE;AAClD,YAAM,OAAO,IAAI,CAAC,MAAM,CAAC,iBAAiB,KAAK,2BAA2B,CAAC;AAC3E,SAAK;AACL,QAAI,OAAO,IAAI,CAAC,MAAM,CAAC,iBAAiB,KAAK,IAAI,CAAC,oBAAoB,CAAC,mBAAmB,EAAE,CAAC;AAC7F,KAAG;AACH;wDAzDC,SAAS,SAAC,kBACT,QAAQ,EAAE,2BAA2B,kBACrC;;;;;;;;;;;;;;;;cAAqD,cACtD;;;;;;;;;;;;;;;;;;;;;;;;;;;;6JACI;AAAC;AAED,YARI,oBAAoB;AAAG;AAAG;AAG/B,qBAID,KAAK;AACP;;;;;;;;;oBAAE;AAAC;AAAC,MCRQ,mBAAmB;AAChC;+CALC,SAAS,SAAC,kBACT,QAAQ,EAAE,iBAAiB;eAC3B;;aAA2C,cAC5C;;;;;;;;;;;;;;;;;;;;;;;+MACI;AAAC;AACI,qBAAP,KAAK;AACP;;;;;;;;;oBAAE;AAAC;AAAC,MCFQ,uBAAuB;AACpC,IALA;AACG,QAQD,aAAQ,GAAG,IAAI,YAAY,EAAQ,CAAC;AACtC,KAYC;AACD;AAAQ;AAAsC;AAAuC;AAAQ,IAR1F,mBAAmB,CAAC,IAA2B;AAClD,QAAI,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACtD,QAAI,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;AACpB,YAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AAC7C,YAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;AAC3B,SAAK;AACL,KAAG;AACH;mDAtBC,SAAS,SAAC,kBACT,QAAQ,EAAE,sBAAsB;YAChC;;;;;;;;;;;;;;;;;kSAAgD,cACjD;;;;;;;;;;;;;;6VACI;AAAC;AACI,qBAAP,KAAK;AACN,uBAEC,MAAM;AACR;;;;;;;;;;;oBAAE;AAAC;AAAC,MCRiB,gBAAgB;AACtC,IAGE,YACS,OAAmB,EAChB,IAAa,EACb,KAAqB,EACrB,QAAyB,EACzB,KAAmB;AAC9B,QALQ,YAAO,GAAP,OAAO,CAAY;AAAC,QACjB,SAAI,GAAJ,IAAI,CAAS;AAAC,QACd,UAAK,GAAL,KAAK,CAAgB;AAAC,QACtB,aAAQ,GAAR,QAAQ,CAAiB;AAAC,QAC1B,UAAK,GAAL,KAAK,CAAc;AACjC,QATE,WAAM,GAAkB,cAAc,CAAC;AACzC,QAAE,YAAO,GAAG,KAAK,CAAC;AAClB,KAOM;AACN,IACQ,IAAI;AACZ;AAE2B,YAFvB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACxB,YAAI,IAAI;AACR,gBAAM,MAAM,SAAS,mCAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAK,IAAI,CAAC,MAAM,CAAE,CAAC;AACtE,gBAAM,MAAM,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;AAC7D,gBAAM,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;AAC3D,gBAAM,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACvC,gBAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;AAC1B,aAAK;AAAC,YAAA,OAAO,EAAE,EAAE;AACjB,gBAAM,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC;AACtC,aAAK;AAAC,oBAAQ;AACd,gBAAM,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AAC3B,aAAK;AACL,SAAG;AAEF,KAFE;AACH,IACE,IAAI;AACN,QAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;AAC5B,KAAG;AACH;AACA;AAAC,MCzBY,0BAA2B,SAAQ,gBAAgB;AAChE,IAAE,YACS,OAAmB,EAChB,IAAa,EACb,KAAqB,EACrB,QAAyB,EACzB,KAAmB;AAC9B,QACC,KAAK,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;AACjD,QAPW,YAAO,GAAP,OAAO,CAAY;AAAC,QACjB,SAAI,GAAJ,IAAI,CAAS;AAAC,QACd,UAAK,GAAL,KAAK,CAAgB;AAAC,QACtB,aAAQ,GAAR,QAAQ,CAAiB;AAAC,QAC1B,UAAK,GAAL,KAAK,CAAc;AACjC,KAEG;AACH;sDAfC,SAAS,SAAC,kBACT,QAAQ,EAAE,yBAAyB,kBACnC;ixBAAmD,kBACnD,IAAI,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,cAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gOACI;AAAC;AAAoD,YARlB,UAAU;AAAI,YAF7C,OAAO;AAAI,YAEgC,cAAc;AAAI,YAA/C,eAAe;AAAI,YAAjC,YAAY;AAAG;;;;;;;;uMAAE;AAAC;AAAC,MCQf,0BAA2B,SAAQ,gBAAgB;AAChE,IAAE,YACS,OAAmB,EAChB,IAAa,EACb,KAAqB,EACrB,QAAyB,EACzB,KAAmB;AAC9B,QACC,KAAK,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;AACjD,QAPW,YAAO,GAAP,OAAO,CAAY;AAAC,QACjB,SAAI,GAAJ,IAAI,CAAS;AAAC,QACd,UAAK,GAAL,KAAK,CAAgB;AAAC,QACtB,aAAQ,GAAR,QAAQ,CAAiB;AAAC,QAC1B,UAAK,GAAL,KAAK,CAAc;AACjC,KAEG;AACH;sDAfC,SAAS,SAAC,kBACT,QAAQ,EAAE,yBAAyB,kBACnC;m1BAAmD,kBACnD,IAAI,EAAE;CAAE,KAAK,EAAE,YAAY,EAAE,cAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iOACI;AAAC;AAAoD,YARlB,UAAU;AAAI,YAF7C,OAAO;AAAI,YAEgC,cAAc;AAAI,YAA/C,eAAe;AAAI,YAAjC,YAAY;AAAG;;;;;;;;uMAAE;AAAC;AAAC,MCQf,0BAA2B,SAAQ,gBAAgB;AAChE,IAAE,YACS,OAAmB,EAChB,IAAa,EACb,KAAqB,EACrB,QAAyB,EACzB,KAAmB;AAC9B,QACC,KAAK,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;AACjD,QAPW,YAAO,GAAP,OAAO,CAAY;AAAC,QACjB,SAAI,GAAJ,IAAI,CAAS;AAAC,QACd,UAAK,GAAL,KAAK,CAAgB;AAAC,QACtB,aAAQ,GAAR,QAAQ,CAAiB;AAAC,QAC1B,UAAK,GAAL,KAAK,CAAc;AACjC,KAEG;AACH;sDAfC,SAAS,SAAC,kBACT,QAAQ,EAAE,yBAAyB,kBACnC;;KAAmD,kBACnD,IAAI,EAAE,EAAE,KAAK,EAAE;EAAY,EAAE,cAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sOACI;AAAC;AAAoD,YARlB,UAAU;AAAI,YAF7C,OAAO;AAAI,YAEgC,cAAc;AAAI,YAA/C,eAAe;AAAI,YAAjC,YAAY;AAAG;;;;;;;;uMAAE;AAAC;AAAC,MCQf,0BAA2B,SAAQ,gBAAgB;AAChE,IAAE,YACS,OAAmB,EAChB,IAAa,EACb,KAAqB,EACrB,QAAyB,EACzB,KAAmB;AAC9B,QACC,KAAK,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;AACjD,QAPW,YAAO,GAAP,OAAO,CAAY;AAAC,QACjB,SAAI,GAAJ,IAAI,CAAS;AAAC,QACd,UAAK,GAAL,KAAK,CAAgB;AAAC,QACtB,aAAQ,GAAR,QAAQ,CAAiB;AAAC,QAC1B,UAAK,GAAL,KAAK,CAAc;AACjC,KAEG;AACH;sDAfC,SAAS,SAAC,kBACT,QAAQ,EAAE,yBAAyB,kBACnC;wvBAAmD,kBACnD,IAAI,EAAE,EAAE,KAAK,EAAE,YAAY,EAAE,cAC9B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6NACI;AAAC;AAAoD,YARlB,UAAU;AAAI,YAF7C,OAAO;AAAI,YAEgC,cAAc;AAAI,YAA/C,eAAe;AAAI,YAAjC,YAAY;AAAG;;;;;;;;uMAAE;AAAC;AAAC,MCIf,mCAAmC;AAChD,IALA;AACG,QAKS,WAAM,GAAG,IAAI,YAAY,EAAQ,CAAC;AAC9C,QAAY,WAAM,GAAG,IAAI,YAAY,EAAQ,CAAC;AAC9C,KAAC;AACD;+DATC,SAAS,SAAC,kBACT,QAAQ,EAAE,mCAAmC;CAC7C,mXAA6D,cAC9D;;;;;;;;;;;sFACI;AAAC;AACI,oBAAP,KAAK;AAAK,qBACV,MAAM;AAAK,qBACX,MAAM;AAAI;;;;;;;;;;;;;oBAAE;AAAC;AAAC,WCoCD;AAChB,IAAQ;AACR,QAAU,IAAI,EAAE,mBAAmB;AACnC,QAAU,SAAS,EAAE,6BAA6B;AAClD,QAAU,WAAW,EAAE,CAAC,kBAAkB,CAAC;AAC3C,KAAS;AACT,CAAO,OAUS;AAChB,IAAQ;AACR,QAAU,SAAS,EAAE,QAAQ,CAAC,KAAK;AACnC,QAAU,SAAS,EAAE,0BAA0B;AAC/C,QAAU,KAAK,EAAE,OAAO,CAAC,UAAU,CAAC;AACpC,QAAU,OAAO,EAAE,iBAAiB;AACpC,QAAU,QAAQ,EAAE,CAAC;AACrB,KAAS;AACT,IAAQ;AACR,QAAU,SAAS,EAAE,QAAQ,CAAC,KAAK;AACnC,QAAU,SAAS,EAAE,0BAA0B;AAC/C,QAAU,KAAK,EAAE,OAAO,CAAC,iBAAiB,CAAC;AAC3C,QAAU,OAAO,EAAE,sBAAsB;AACzC,QAAU,QAAQ,EAAE,EAAE;AACtB,KAAS;AACT,IAAQ;AACR,QAAU,SAAS,EAAE,QAAQ,CAAC,KAAK;AACnC,QAAU,SAAS,EAAE,0BAA0B;AAC/C,QAAU,KAAK,EAAE,OAAO,CAAC,gBAAgB,CAAC;AAC1C,QAAU,OAAO,EAAE,sBAAsB;AACzC,QAAU,QAAQ,EAAE,EAAE;AACtB,KAAS;AACT,IAAQ;AACR,QAAU,SAAS,EAAE,QAAQ,CAAC,KAAK;AACnC,QAAU,SAAS,EAAE,0BAA0B;AAC/C,QAAU,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC;AAChC,QAAU,OAAO,EAAE,aAAa;AAChC,QAAU,QAAQ,EAAE,EAAE;AACtB,KAAS;AACT;AAAG,MAKU,mBAAmB;AAChC,IAAE,YAAY,OAA6B;AAC3C;AAEA,KADG;AACH;+CAxEC,QAAQ,SAAC,kBACR,YAAY,EAAE,sBACZ,6BAA6B;mBAC7B,0BAA0B,sBAC1B,0BAA0B;kBAC1B,0BAA0B,sBAC1B;YAA0B;MAC1B;kBAAsB;OACtB;IAAuB;EACvB;;SAA4B,sBAC5B;OAAmB,sBACnB;sBAAmC;;KACpC;aACD,OAAO,EAAE,CAAC,UAAU;AAAE,mBAAmB,EAAE;QAAa,EAAE;CAAe,CAAC;UAC1E,SAAS,EAAE,sBACT,kBAAkB,sBAClB,IAoDC;qBAnDC,OAAO,EAAE,UAAU,xCAmDnB;qBAlDA,QAAQ,IAMP,jCA6CS,YAjFP,oBAAoB;AAAG;qBAqC1B,KAAK,EAAE,IAAI,sBACZ,sBACD,0BACE,OAAO,EAAE;gBAAoB;;CAC7B,QAAQ,EAAE,kBAAkB;uBAC5B,KAAK,EAAE,IAAI;KACZ,sBACD;KACE,OAAO,EAAE,YAAY;IACrB,QAAQ,IA6BQ,0BAChB,KAAK;CAAE,IAAI,sBACZ,kBACF;WACF;;;;;;;;;;;;;;;;;;;;;;;;;;;+hBA/EiC;AAAC;ACfnC;AACA;AACA;AACA;AACA;AAG0Z","sourcesContent":["export const DEFAULT_HOME_DASHBOARD_NAME = 'home-cockpit1';\nexport const USER_HOME_DASHBOARD_NAME = 'home-cockpit-user';\n\nexport interface CockpitConfig {\n  rootNodes: CockpitConfigRootNode[];\n  features: {\n    alarms: boolean;\n    dataExplorer: boolean;\n    groups: boolean;\n    reports: boolean;\n    exports: boolean;\n    dataPointLibrary: boolean;\n    globalSmartRules: boolean;\n    smartRules: boolean;\n    subassets: boolean;\n    search: boolean;\n    [key: string]: boolean;\n  };\n  hideNavigator: boolean;\n  homeDashboardName: string;\n  userSpecificHomeDashboard: boolean;\n}\n\nexport const DEFAULT_CONFIG: CockpitConfig = {\n  rootNodes: [],\n  features: {\n    alarms: true,\n    dataExplorer: true,\n    groups: true,\n    reports: true,\n    exports: true,\n    dataPointLibrary: true,\n    globalSmartRules: true,\n    smartRules: true,\n    subassets: true,\n    search: true\n  },\n  hideNavigator: false,\n  homeDashboardName: DEFAULT_HOME_DASHBOARD_NAME,\n  userSpecificHomeDashboard: false\n};\n\nexport interface CockpitConfigRootNode {\n  id: string;\n  name: string;\n  hideDevices?: boolean;\n}\n\nexport enum HomeDashboardType {\n  /**\n   * Shared by all Cockpit apps\n   */\n  DEFAULT,\n  /**\n   * Only for the current Cockpit.\n   */\n  APP,\n  /**\n   * Only for the current user.\n   */\n  USER\n}\n\nexport const COCKPIT_CONFIG_PATH = 'cockpit-application-configuration';\n","import { Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\nimport {\n  AppStateService,\n  gettext,\n  NavigatorNode,\n  NavigatorNodeFactory,\n  Permissions\n} from '@c8y/ngx-components';\nimport { EcosystemService } from '@c8y/ngx-components/ecosystem';\nimport { COCKPIT_CONFIG_PATH } from './cockpit-config.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CockpitConfigGuard implements CanActivate, NavigatorNodeFactory {\n  protected readonly configNode: NavigatorNode = new NavigatorNode({\n    path: `/${COCKPIT_CONFIG_PATH}`,\n    parent: gettext('Configuration'),\n    label: gettext('App configuration'),\n    icon: 'imac-settings',\n    preventDuplicates: true\n  });\n\n  constructor(\n    private permissions: Permissions,\n    private appState: AppStateService,\n    private ecosystemService: EcosystemService\n  ) {}\n\n  get(): NavigatorNode {\n    if (this.canActivate()) {\n      return this.configNode;\n    }\n    return;\n  }\n\n  canActivate(): boolean {\n    return (\n      this.permissions.hasRole('ROLE_APPLICATION_MANAGEMENT_ADMIN') &&\n      this.ecosystemService.isOwner(this.appState.currentApplication.value)\n    );\n  }\n}\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { InventoryService } from '@c8y/client';\nimport {\n  AppStateService,\n  NavigatorNode,\n  NavigatorService,\n  OptionsService,\n  Permissions,\n  SearchService,\n  Tab,\n  TabsService\n} from '@c8y/ngx-components';\nimport {\n  AssetNavigatorConfig,\n  AssetNodeService,\n  ASSET_NAVIGATOR_CONFIG\n} from '@c8y/ngx-components/assets-navigator';\nimport { isUndefined, startCase } from 'lodash-es';\nimport { map } from 'rxjs/operators';\nimport { CockpitConfig, DEFAULT_CONFIG, DEFAULT_HOME_DASHBOARD_NAME } from './cockpit-config.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CockpitConfigService {\n  currentConfig: CockpitConfig = DEFAULT_CONFIG;\n  nodes: NavigatorNode[] = [];\n\n  private readonly DEFAULT_NODE_PRIORITY = 2000;\n\n  get excludedFeatureKeys() {\n    return Object.keys(this.currentConfig.features).filter(\n      key => !this.currentConfig.features[key]\n    );\n  }\n\n  constructor(\n    private navigatorService: NavigatorService,\n    private tabsService: TabsService,\n    private searchService: SearchService,\n    private assetNodeService: AssetNodeService,\n    private inventoryService: InventoryService,\n    private appState: AppStateService,\n    private optionsService: OptionsService,\n    private permissions: Permissions,\n    @Optional() @Inject(ASSET_NAVIGATOR_CONFIG) public moduleConfig: AssetNavigatorConfig\n  ) {\n    this.registerFilterForFeatures();\n    this.init();\n  }\n\n  init() {\n    this.appState.currentApplicationConfig.subscribe(config => {\n      if (config) {\n        this.currentConfig = { ...DEFAULT_CONFIG, ...config } as CockpitConfig;\n        this.setRootNodes();\n      }\n    });\n  }\n\n  async saveConfig(config) {\n    this.currentConfig = config;\n    await this.storeApplicationConfig(this.currentConfig);\n  }\n\n  refresh() {\n    this.optionsService.hideNavigator = this.currentConfig.hideNavigator;\n    this.navigatorService.refresh();\n    this.searchService.refresh();\n  }\n\n  async setRootNodes() {\n    this.addNodesToFactories();\n    for (const node of this.currentConfig.rootNodes) {\n      const { data } = await this.inventoryService.detail(node.id);\n      if (data) {\n        this.nodes.push(\n          this.assetNodeService.createAssetNode({\n            mo: data,\n            hideDevices: node.hideDevices,\n            priority: isUndefined(this.moduleConfig?.rootNodePriority)\n              ? this.DEFAULT_NODE_PRIORITY\n              : this.moduleConfig.rootNodePriority\n          })\n        );\n      }\n    }\n    this.refresh();\n  }\n\n  getAppDashboardName() {\n    return `${DEFAULT_HOME_DASHBOARD_NAME.substring(0, DEFAULT_HOME_DASHBOARD_NAME.length - 1)}_${\n      this.appState.state.app.id\n    }`;\n  }\n\n  private async storeApplicationConfig(config: CockpitConfig) {\n    await this.appState.updateApplicationConfig<CockpitConfig>(config);\n  }\n\n  private addNodesToFactories() {\n    const nodeInFactories = this.navigatorService.factories.find(\n      nodes => nodes === this.nodes\n    ) as NavigatorNode[];\n    const isNodeAlreadyInFactories = !!nodeInFactories;\n    if (isNodeAlreadyInFactories) {\n      this.nodes = nodeInFactories;\n      this.nodes.length = 0;\n    } else {\n      this.navigatorService.factories.push(this.nodes);\n    }\n  }\n\n  private registerFilterForFeatures() {\n    this.navigatorService.items$ = this.navigatorService.items$.pipe(\n      map(nodes => this.setHiddenAttrLock(nodes)),\n      map(nodes => this.filterNavigatorNode(nodes))\n    );\n    this.tabsService.items$ = this.tabsService.items$.pipe(map(tabs => this.filterTabs(tabs)));\n    this.searchService.items$ = this.searchService.items$.pipe(\n      map(search => (this.currentConfig.features.search ? search : []))\n    );\n  }\n\n  private setHiddenAttrLock(nodes) {\n    nodes.forEach(node => {\n      Object.keys(this.currentConfig.features).forEach(key => {\n        const childNode = node.find(startCase(key).toLowerCase());\n\n        if (childNode) {\n          if (\n            !this.permissions.hasRole('ROLE_APPLICATION_MANAGEMENT_ADMIN') &&\n            childNode.lockHiddenAttr === undefined &&\n            childNode.hidden === true\n          ) {\n            childNode.lockHiddenAttr = childNode.hidden;\n          }\n        }\n      });\n    });\n    return nodes;\n  }\n\n  private filterTabs(tabs: Tab[]) {\n    return tabs.filter(\n      tab => !this.excludedFeatureKeys.some(key => tab.featureId === key)\n    );\n  }\n\n  private filterNavigatorNode(nodes: NavigatorNode[]) {\n    if (!this.currentConfig) {\n      return nodes;\n    }\n    const disabledFeatures = this.excludedFeatureKeys;\n    const filteredNodes = nodes.filter(\n      node => !disabledFeatures.some(key => node.featureId === key)\n    );\n\n    this.showAllChildrenNodes(nodes);\n    this.hideChildrenNodesThatAreDisabled(nodes, disabledFeatures);\n    return filteredNodes;\n  }\n\n  private hideChildrenNodesThatAreDisabled(nodes: NavigatorNode[], disabledFeatures: string[]) {\n    nodes.forEach(node =>\n      disabledFeatures.forEach(key => {\n        const childNode = node.find(key, 'featureId');\n        if (childNode) {\n          childNode.hidden = true;\n        }\n      })\n    );\n  }\n\n  private showAllChildrenNodes(nodes: NavigatorNode[]) {\n    nodes.forEach(node => {\n      Object.keys(this.currentConfig.features).forEach(key => {\n        const childNode = node.find(startCase(key).toLowerCase());\n\n        if (childNode) {\n          if (childNode.lockHiddenAttr === true) {\n            return;\n          }\n\n          childNode.hidden = false;\n        }\n      });\n    });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertService, gettext } from '@c8y/ngx-components';\nimport { CockpitConfig, DEFAULT_CONFIG } from './cockpit-config.model';\nimport { CockpitConfigService } from './cockpit-config.service';\n\n@Component({\n  selector: 'c8y-cockpit-configuration',\n  templateUrl: './cockpit-configuration.component.html'\n})\nexport class CockpitConfigurationComponent implements OnInit {\n  /**\n   * The currently used configuration.\n   */\n  config: CockpitConfig = DEFAULT_CONFIG;\n\n  constructor(\n    private cockpitConfigService: CockpitConfigService,\n    private alertService: AlertService\n  ) {}\n\n  /**\n   * @ignore\n   */\n  ngOnInit() {\n    this.config = this.cockpitConfigService.currentConfig;\n  }\n\n  /**\n   * Stores the configuration and shows a success message.\n   */\n  async save() {\n    try {\n      await this.cockpitConfigService.saveConfig(this.config);\n      this.alertService.success(gettext('Cockpit configuration saved.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  /**\n   * Updates the features to directly reflect the results of the change.\n   */\n  updateFeatures() {\n    this.cockpitConfigService.currentConfig = this.config;\n    this.cockpitConfigService.refresh();\n  }\n\n  /**\n   * Updates the root nodes to directly reflect the results of the change.\n   */\n  updateRootNodes() {\n    this.cockpitConfigService.currentConfig = this.config;\n    this.cockpitConfigService.setRootNodes();\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { CockpitConfig } from './cockpit-config.model';\n\n@Component({\n  selector: 'c8y-feature-config',\n  templateUrl: './feature-config.component.html'\n})\nexport class FeatureConfigComponent {\n  @Input()\n  config: CockpitConfig;\n\n  @Output()\n  onUpdate = new EventEmitter<void>();\n\n  updateFeatures() {\n    this.onUpdate.emit();\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport {\n  CockpitConfig,\n  DEFAULT_HOME_DASHBOARD_NAME,\n  HomeDashboardType,\n  USER_HOME_DASHBOARD_NAME\n} from './cockpit-config.model';\nimport { CockpitConfigService } from './cockpit-config.service';\n\n@Component({\n  selector: 'c8y-home-dashboard-config',\n  templateUrl: './home-dashboard-config.component.html'\n})\nexport class HomeDashboardConfigComponent {\n  @Input()\n  config: CockpitConfig;\n\n  /**\n   * The types of dashboard that can be configured.\n   */\n  readonly homeDashboardTypes = HomeDashboardType;\n\n  /**\n   * @ignore\n   */\n  constructor(private cockpitConfigService: CockpitConfigService) {}\n\n  /**\n   * @ignore\n   */\n  dashboardChange(selected: boolean, type: HomeDashboardType) {\n    if (!selected) {\n      return;\n    }\n\n    switch (type) {\n      case this.homeDashboardTypes.DEFAULT: {\n        this.config.homeDashboardName = DEFAULT_HOME_DASHBOARD_NAME;\n        this.config.userSpecificHomeDashboard = false;\n        break;\n      }\n      case this.homeDashboardTypes.APP: {\n        this.config.homeDashboardName = this.cockpitConfigService.getAppDashboardName();\n        this.config.userSpecificHomeDashboard = false;\n        break;\n      }\n      case this.homeDashboardTypes.USER: {\n        this.config.homeDashboardName = USER_HOME_DASHBOARD_NAME;\n        this.config.userSpecificHomeDashboard = true;\n        break;\n      }\n    }\n  }\n\n  /**\n   * @ignore\n   */\n  verifySelected(type: HomeDashboardType) {\n    if (type === this.homeDashboardTypes.USER) {\n      return this.config.userSpecificHomeDashboard;\n    }\n    if (type === this.homeDashboardTypes.DEFAULT) {\n      return this.config.homeDashboardName === DEFAULT_HOME_DASHBOARD_NAME;\n    }\n    return this.config.homeDashboardName === this.cockpitConfigService.getAppDashboardName();\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { CockpitConfig } from './cockpit-config.model';\n\n@Component({\n  selector: 'c8y-misc-config',\n  templateUrl: './misc-config.component.html'\n})\nexport class MiscConfigComponent {\n  @Input()\n  config: CockpitConfig;\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { CockpitConfig, CockpitConfigRootNode } from './cockpit-config.model';\n\n@Component({\n  selector: 'c8y-root-node-config',\n  templateUrl: './root-node-config.component.html'\n})\nexport class RootNodeConfigComponent {\n  @Input()\n  config: CockpitConfig;\n\n  @Output()\n  onUpdate = new EventEmitter<void>();\n\n  /**\n   * Removes one of the root nodes.\n   * @param node The node to remove.\n   */\n   removeNavigatorNode(node: CockpitConfigRootNode) {\n    const index = this.config.rootNodes.indexOf(node);\n    if (index > -1) {\n      this.config.rootNodes.splice(index, 1);\n      this.onUpdate.emit();\n    }\n  }\n}\n","import { CdkStep } from '@angular/cdk/stepper';\nimport { AppStateService, AlertService, C8yStepper, SetupComponent } from '@c8y/ngx-components';\nimport { CockpitConfig, DEFAULT_CONFIG } from '../cockpit-config.model';\n\nexport abstract class CockpitSetupStep {\n  config: CockpitConfig = DEFAULT_CONFIG;\n  pending = false;\n\n  constructor(\n    public stepper: C8yStepper,\n    protected step: CdkStep,\n    protected setup: SetupComponent,\n    protected appState: AppStateService,\n    protected alert: AlertService\n  ) {}\n\n  async next() {\n    this.pending = true;\n    try {\n      const newConfig = { ...this.setup.data$.value, ...this.config };\n      await this.appState.updateApplicationConfig(newConfig);\n      this.setup.stepCompleted(this.stepper.selectedIndex);\n      this.setup.data$.next(newConfig);\n      this.stepper.next();\n    } catch (ex) {\n      this.alert.addServerFailure(ex);\n    } finally {\n      this.pending = false;\n    }\n  }\n\n  back() {\n    this.stepper.previous();\n  }\n}\n","import { CdkStep } from '@angular/cdk/stepper';\nimport { Component } from '@angular/core';\nimport { AlertService, AppStateService, C8yStepper, SetupComponent } from '@c8y/ngx-components';\nimport { CockpitSetupStep } from './cockpit-setup-step';\n\n@Component({\n  selector: 'c8y-cockpit-setup-step1',\n  templateUrl: './cockpit-setup-step1.component.html',\n  host: { class: 'd-contents' }\n})\nexport class CockpitSetupStep1Component extends CockpitSetupStep {\n  constructor(\n    public stepper: C8yStepper,\n    protected step: CdkStep,\n    protected setup: SetupComponent,\n    protected appState: AppStateService,\n    protected alert: AlertService\n  ) {\n    super(stepper, step, setup, appState, alert);\n  }\n}\n","import { CdkStep } from '@angular/cdk/stepper';\nimport { Component } from '@angular/core';\nimport { AlertService, AppStateService, C8yStepper, SetupComponent } from '@c8y/ngx-components';\nimport { CockpitSetupStep } from './cockpit-setup-step';\n\n@Component({\n  selector: 'c8y-cockpit-setup-step2',\n  templateUrl: './cockpit-setup-step2.component.html',\n  host: { class: 'd-contents' }\n})\nexport class CockpitSetupStep2Component extends CockpitSetupStep {\n  constructor(\n    public stepper: C8yStepper,\n    protected step: CdkStep,\n    protected setup: SetupComponent,\n    protected appState: AppStateService,\n    protected alert: AlertService\n  ) {\n    super(stepper, step, setup, appState, alert);\n  }\n}\n","import { CdkStep } from '@angular/cdk/stepper';\nimport { Component } from '@angular/core';\nimport { AlertService, AppStateService, C8yStepper, SetupComponent } from '@c8y/ngx-components';\nimport { CockpitSetupStep } from './cockpit-setup-step';\n\n@Component({\n  selector: 'c8y-cockpit-setup-step3',\n  templateUrl: './cockpit-setup-step3.component.html',\n  host: { class: 'd-contents' }\n})\nexport class CockpitSetupStep3Component extends CockpitSetupStep {\n  constructor(\n    public stepper: C8yStepper,\n    protected step: CdkStep,\n    protected setup: SetupComponent,\n    protected appState: AppStateService,\n    protected alert: AlertService\n  ) {\n    super(stepper, step, setup, appState, alert);\n  }\n}\n","import { CdkStep } from '@angular/cdk/stepper';\nimport { Component } from '@angular/core';\nimport { AlertService, AppStateService, C8yStepper, SetupComponent } from '@c8y/ngx-components';\nimport { CockpitSetupStep } from './cockpit-setup-step';\n\n@Component({\n  selector: 'c8y-cockpit-setup-step4',\n  templateUrl: './cockpit-setup-step4.component.html',\n  host: { class: 'd-contents' }\n})\nexport class CockpitSetupStep4Component extends CockpitSetupStep {\n  constructor(\n    public stepper: C8yStepper,\n    protected step: CdkStep,\n    protected setup: SetupComponent,\n    protected appState: AppStateService,\n    protected alert: AlertService\n  ) {\n    super(stepper, step, setup, appState, alert);\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\n@Component({\n  selector: 'c8y-cockpit-setup-stepper-buttons',\n  templateUrl: './cockpit-setup-stepper-buttons.component.html'\n})\nexport class CockpitSetupStepperButtonsComponent {\n  @Input() index;\n  @Output() onNext = new EventEmitter<void>();\n  @Output() onBack = new EventEmitter<void>();\n}\n","import { NgModule } from '@angular/core';\nimport {\n  CoreModule,\n  gettext,\n  HOOK_NAVIGATOR_NODES,\n  HOOK_ROUTE,\n  HOOK_STEPPER,\n  SetupStep,\n  Steppers\n} from '@c8y/ngx-components';\nimport { AssetSelectorModule } from '@c8y/ngx-components/assets-navigator';\nimport { EcosystemModule } from '@c8y/ngx-components/ecosystem';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { CockpitConfigGuard } from './cockpit-config.guard';\nimport { COCKPIT_CONFIG_PATH } from './cockpit-config.model';\nimport { CockpitConfigService } from './cockpit-config.service';\nimport { CockpitConfigurationComponent } from './cockpit-configuration.component';\nimport { FeatureConfigComponent } from './feature-config.component';\nimport { HomeDashboardConfigComponent } from './home-dashboard-config.component';\nimport { MiscConfigComponent } from './misc-config.component';\nimport { RootNodeConfigComponent } from './root-node-config.component';\nimport { CockpitSetupStep1Component } from './setup/cockpit-setup-step1.component';\nimport { CockpitSetupStep2Component } from './setup/cockpit-setup-step2.component';\nimport { CockpitSetupStep3Component } from './setup/cockpit-setup-step3.component';\nimport { CockpitSetupStep4Component } from './setup/cockpit-setup-step4.component';\nimport { CockpitSetupStepperButtonsComponent } from './setup/cockpit-setup-stepper-buttons.component';\n\n@NgModule({\n  declarations: [\n    CockpitConfigurationComponent,\n    CockpitSetupStep1Component,\n    CockpitSetupStep2Component,\n    CockpitSetupStep3Component,\n    CockpitSetupStep4Component,\n    FeatureConfigComponent,\n    RootNodeConfigComponent,\n    HomeDashboardConfigComponent,\n    MiscConfigComponent,\n    CockpitSetupStepperButtonsComponent\n  ],\n  imports: [CoreModule, AssetSelectorModule, PopoverModule, EcosystemModule],\n  providers: [\n    CockpitConfigGuard,\n    {\n      provide: HOOK_ROUTE,\n      useValue: [\n        {\n          path: COCKPIT_CONFIG_PATH,\n          component: CockpitConfigurationComponent,\n          canActivate: [CockpitConfigGuard]\n        }\n      ],\n      multi: true\n    },\n    {\n      provide: HOOK_NAVIGATOR_NODES,\n      useClass: CockpitConfigGuard,\n      multi: true\n    },\n    {\n      provide: HOOK_STEPPER,\n      useValue: [\n        {\n          stepperId: Steppers.SETUP,\n          component: CockpitSetupStep1Component,\n          label: gettext('Features'),\n          setupId: 'cockpitFeatures',\n          priority: 0\n        },\n        {\n          stepperId: Steppers.SETUP,\n          component: CockpitSetupStep2Component,\n          label: gettext('Top level nodes'),\n          setupId: 'cockpitTopLevelNodes',\n          priority: 10\n        },\n        {\n          stepperId: Steppers.SETUP,\n          component: CockpitSetupStep3Component,\n          label: gettext('Home Dashboard'),\n          setupId: 'cockpitHomeDashboard',\n          priority: 20\n        },\n        {\n          stepperId: Steppers.SETUP,\n          component: CockpitSetupStep4Component,\n          label: gettext('Misc'),\n          setupId: 'cockpitMisc',\n          priority: 30\n        }\n      ] as SetupStep[],\n      multi: true\n    }\n  ]\n})\nexport class CockpitConfigModule {\n  constructor(service: CockpitConfigService) {\n    // only for DI, not used but needed.\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {CockpitSetupStep as ɵa} from './setup/cockpit-setup-step';\nexport {CockpitSetupStepperButtonsComponent as ɵb} from './setup/cockpit-setup-stepper-buttons.component';"]}