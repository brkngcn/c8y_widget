import * as i0 from '@angular/core';
import { Component, EventEmitter, Input, Output, NgModule, Injectable } from '@angular/core';
import { FormsModule } from '@angular/forms';
import { gettext, CommonModule, DropAreaModule } from '@c8y/ngx-components';
import * as i1 from 'ngx-bootstrap/modal';
import { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';

class IconSelectorModalComponent {
    constructor(bsModal) {
        this.bsModal = bsModal;
        this.title = gettext('Select icon');
        this.saveButtonLabel = gettext('Select');
        this.iconCategoriesToExclude = [];
        this.showIconClass = true;
        this.result = new Promise((resolve, reject) => {
            this.save = resolve;
            this.cancel = reject;
        });
    }
    close() {
        this.bsModal.hide();
        this.cancel();
    }
    saveChanges() {
        this.bsModal.hide();
        this.save(this.currentSelection);
    }
    selectionChange(newSelection) {
        this.currentSelection = newSelection;
    }
}
IconSelectorModalComponent.decorators = [
    { type: Component, args: [{
                selector: 'c8y-icon-selector-modal',
                template: "<div class=\"modal-header\">\n  <h4 class=\"modal-title pull-left\">{{ title | translate }}</h4>\n</div>\n<div class=\"modal-body\">\n  <c8y-icon-selector\n    (onSelect)=\"selectionChange($event)\"\n    [selectedIcon]=\"currentSelection\"\n    [iconCategoriesToExclude]=\"iconCategoriesToExclude\"\n    [showIconClass]=\"showIconClass\"\n  ></c8y-icon-selector>\n</div>\n<div class=\"modal-footer separator text-center\">\n  <button class=\"btn btn-default\" (click)=\"close()\">\n    {{ 'Cancel' | translate }}\n  </button>\n  <button class=\"btn btn-primary\" [disabled]=\"!currentSelection\" (click)=\"saveChanges()\">\n    {{ saveButtonLabel | translate }}\n  </button>\n</div>\n"
            },] }
];
IconSelectorModalComponent.ctorParameters = () => [
    { type: BsModalRef }
];

const cityIcons = [
    'hospital-o',
    'h-square',
    'institution',
    'ios-themes',
    'building',
    'apartment',
    'department1',
    'organization',
    'office',
    'company',
    'warehouse',
    'shop',
    'work-from-home',
    'house',
    'dog-house',
    'home-automation',
    'garage-door',
    'depot',
    'garage',
    'open-garage-door',
    'close-garage-door',
    'barn',
    'bungalow',
    'exterior',
    'heating-room',
    'mortgage',
    'home-safety',
    'travel-agency',
    'department-shop',
    'book-shelf',
    'emergency-exit',
    'stairs',
    'stairs-down',
    'stairs-up',
    'temperature-inside',
    'treehouse',
    'water-heater',
    'magic',
    'parking'
];
const devicesAndSensorsIcons = [
    'thermometer',
    'sensor',
    'package',
    'packages',
    'blockly',
    'objects',
    'monitoring',
    'qr-code',
    'online',
    'temperature',
    'air-conditioner',
    'air-shaft',
    'fan',
    'light',
    'light-automation',
    'light-off',
    'reflector-bulb',
    'spiral-bulb',
    'mirrored-reflector-bulb',
    'light-bulb',
    'light-on',
    'plumbing',
    'wi-fi-router',
    'gas-bottle',
    'grater',
    'air-quality',
    'central-heating',
    'light-dimmer',
    'radio-station',
    'relay-home-automation',
    'remote-control',
    'tv-off',
    'wall-socket',
    'washing-machine',
    'light-dimming-10-percent',
    'work-light',
    'plug',
    'electrical',
    'water-pipe',
    'thermometer-automation',
    'fire-extinguisher',
    'temperature-sensitive',
    'calculator',
    'humidity',
    'system-information',
    'system-report',
    'system-task',
    'imac-clock',
    'imac-exit',
    'imac-settings',
    'macbook-settings',
    'connected',
    'disconnected',
    'mobile',
    'multiple-devices',
    'client-management',
    'nfc',
    'mobile-email',
    'empty-battery',
    'low-battery',
    'battery-level',
    'charged-battery',
    'full-battery',
    'no-battery',
    'charging-battery',
    'no-connection',
    'low-connection',
    'signal',
    'factory',
    'robot',
    'bot',
    'fork-lift',
    'gear-complex',
    'cogs',
    'automatic',
    'electronics',
    'gas',
    'water',
    'greentech',
    'radio-tower',
    'industrial-scales',
    'iphone',
    'smartphone-approve',
    'smartphone-decline',
    'phonelink-lock',
    'tablet',
    'devices',
    'desktop',
    'desktop1',
    'monitor',
    'laptop',
    'checked-laptop',
    'laptop-alert',
    'laptop-error',
    'computer-support',
    'programming',
    'keyboard',
    'video-conference',
    'remote-desktop',
    'workspace',
    'workstation',
    'microchip',
    'processor',
    'smartphone-ram',
    'bios',
    'micro-sd',
    'hdd',
    'presentation',
    'room-finder',
    'statistics',
    'server',
    'stack',
    'critical-thinking',
    'environment1',
    'network-card',
    'network-cable',
    'usb-on',
    'ssd',
    'asterisk',
    'end-button',
    'hub',
    'individual-server',
    'data-center',
    'root-server',
    'switch',
    'nas',
    'shutdown',
    'hibernate',
    'phone',
    'no-idea',
    'network',
    'mind-map',
    'centralized-network'
];
const locationIcons = [
    'globe',
    'location',
    'globe1',
    'compass',
    'marker',
    'map-marker',
    'marker-off',
    'find-clinic',
    'tesla-supercharger-pin',
    'address',
    'cab-stand',
    'map',
    'map-editing',
    'quest',
    'waypoint-map',
    'anchor-nodes',
    'map-pin',
    'map-signs',
    'gps',
    'location-arrow',
    'navigation',
    'target1',
    'hunt',
    'location-off',
    'location-update',
    'layers',
    'journey',
    'street-view'
];
const officeIcons = [
    'medkit',
    'fax',
    'beer',
    'department',
    'tty',
    'target',
    'accuracy',
    'goal',
    'address-book',
    'attract-customers',
    'bullhorn',
    'announcement',
    'podium',
    'time-card',
    'change',
    'applicant',
    'download-resume',
    'submit-resume',
    'briefcase',
    'new-job',
    'job-seeker',
    'business-building',
    'dossier',
    'alarms',
    'project',
    'important-book',
    'important-note',
    'id-badge',
    'assignment-return',
    'note-taking',
    'audit',
    'badge',
    'new-contact',
    'contact-details',
    'phone-contact',
    'inspection',
    'clipboard-with-a-tick',
    'survey',
    'no-data-available',
    'task-planning',
    'invoice',
    'summary-list',
    'study',
    'card',
    'job',
    'print',
    'communication-internet',
    'language-skill',
    'language',
    'window-close',
    'new-slide',
    'web-analytics',
    'planner',
    'rescheduling-a-task',
    'resume-website',
    'product-documents',
    'resume-template',
    'rubber-stamp',
    'stamp',
    'video-projector',
    'management1',
    'legal'
];
const securityIcons = [
    'shield',
    'protect',
    'warning-shield',
    'free-forever',
    'identification-documents',
    'id-verified',
    'fingerprint',
    'pin-code',
    'password',
    'lock',
    'unlock',
    'privacy',
    'lock-outline',
    'lock-open',
    'key',
    'access',
    'lock11',
    'realtime',
    'smart-home-connection',
    'smart-home-checked',
    'smart-home-error',
    'smart-home-remove',
    'smart-home-shield',
    'voice-id',
    'copyright',
    'spy',
    'bug1',
    'stethoscope'
];
const transportIcons = [
    'space-shuttle',
    'ambulance',
    'car',
    'taxi',
    'truck',
    'file-delivery',
    'in-transit',
    'bus',
    'train',
    'tram',
    'scooter',
    'bicycle',
    'motorcycle',
    'plane',
    'ship',
    'rocket',
    'wrench1',
    'road',
    'flag-outline',
    'software'
];
const userInterfaceIcons = [
    'newspaper-o',
    'creative-commons',
    'spinner',
    'trademark',
    'toggle-on',
    'toggle-off',
    'ticket',
    'spoon',
    'sort-numeric-desc',
    'sort-numeric-asc',
    'snowflake-o',
    'shower',
    'percent',
    'paw',
    'mouse-pointer',
    'lemon-o',
    'leaf',
    'diamond',
    'braille',
    'bomb',
    'binoculars',
    'eject',
    'touch-app',
    'soccer',
    'mood',
    'deaf',
    'cc',
    'anchor',
    'accessibility-settings',
    'info',
    'warning',
    'exclamation-circle',
    'high-priority',
    'spam',
    'help',
    'help-outline',
    'approval',
    'unverified-account',
    'user-manual',
    'stages1',
    'menu',
    'menu-vertical',
    'app-switcher',
    'menu-horizontal',
    'plus-math',
    'subtract',
    'clear',
    'equals',
    'exclamation',
    'check',
    'upvote-downvote',
    'math',
    'less-than1',
    'more-than',
    'circled-notch',
    'inactive-state',
    'storage1',
    'lifebuoy',
    'wait',
    'block',
    'clone',
    'clipboard',
    'search-more',
    'search',
    'search-plus',
    'mobile-zoom-out',
    'product1',
    'trash-can',
    'editing-trash',
    'delete-bin',
    'eye',
    'visibility-off',
    'double-tap',
    'heart',
    'unheart',
    'science',
    'school',
    'badge1',
    'data-quality',
    'brightness-low',
    'bedtime',
    'add-identity-provider',
    'bookmark-outline',
    'bookmark',
    'check-box',
    'add-box',
    'indeterminate-check-box',
    'duplicate',
    'check-box-outline-blank',
    'checkbox-unselected',
    'add-new',
    'negative',
    'multiplication',
    'ratio',
    'circle',
    'contrast1',
    'connection-status-on',
    'ok',
    'cross-circle',
    'add',
    'minus-circle',
    'radio-button-unchecked',
    'add-circle-outline',
    'local-fire-department',
    'outlined-flag',
    'flag',
    'flash-on',
    'quick-mode-on',
    'quick-mode-off',
    'videogame-asset',
    'portraits',
    'extension',
    'star-outline',
    'star-half',
    'star',
    'home-page',
    'attach',
    'link1',
    'unlink1',
    'online1',
    'offline',
    'notification',
    'alarm',
    'no-reminders',
    'medium-priority',
    'sliders1',
    'tune',
    'button',
    'breadcrumb',
    'window-minimize',
    'versions',
    'pages',
    'change-theme',
    'landing-page',
    'continuous-mode',
    'ruler-pencil',
    'header1',
    'body',
    'footer',
    'logs',
    'overview',
    'tab',
    'cursor-in-window',
    'advertisement-page',
    'external-link',
    'level-up',
    'trigger',
    'rules1',
    'email',
    'form',
    'language1',
    'loading-bar',
    'output',
    'save1',
    'single-choice',
    'single-page-mode',
    'skip',
    'support',
    'maintenance',
    'themes',
    'book1',
    'top-menu',
    'user-menu-male',
    'hint',
    'xlarge-icons1',
    'circled-menu',
    'keypad',
    'cake',
    'intelligence1',
    'beginner',
    'restaurant',
    'local-cafe',
    'wine-bar',
    'espresso-cup',
    'broom',
    'buy-upgrade',
    'speedometer',
    'dashboard',
    'palette',
    'car-battery',
    'magnetic',
    'right-navigation-toolbar',
    'tilt',
    'clear-symbol',
    'settings',
    'advanced-search',
    'installing-updates',
    'heating-automation',
    'impressum'
];
const weatherIcons = [
    'sun',
    'sunlight',
    'cloud1',
    'rain',
    'winter',
    'storm',
    'keep-dry',
    'umbrella'
];
const iconsByCategory = {
    city: {
        label: gettext('City`icons-category`'),
        icons: cityIcons
    },
    devicesAndSensors: {
        label: gettext('Devices and sensors`icons-category`'),
        icons: devicesAndSensorsIcons
    },
    location: {
        label: gettext('Location`icons-category`'),
        icons: locationIcons
    },
    office: {
        label: gettext('Office`icons-category`'),
        icons: officeIcons
    },
    security: {
        label: gettext('Security`icons-category`'),
        icons: securityIcons
    },
    transport: {
        label: gettext('Transport`icons-category`'),
        icons: transportIcons
    },
    userInterface: {
        label: gettext('User interface`icons-category`'),
        icons: userInterfaceIcons
    },
    weather: {
        label: gettext('Weather`icons-category`'),
        icons: weatherIcons
    }
};

const allIconCategory = { name: 'all', displayName: 'All' };
class IconSelectorComponent {
    constructor() {
        this.iconCategoriesToExclude = [];
        this.showIconClass = true;
        this.onSelect = new EventEmitter();
    }
    ngOnInit() {
        this.iconCategories = this.composeIconCategories();
        this.selectedIconCategory = allIconCategory;
        this.resetIcons();
    }
    onCategoryFilterChanged() {
        const selectedCategory = this.selectedIconCategory;
        if (selectedCategory.name === allIconCategory.name) {
            this.resetIcons();
            return;
        }
        else {
            this.icons = {
                [selectedCategory.name]: iconsByCategory[selectedCategory.name]
            };
        }
    }
    onIconClicked(icon) {
        this.selectedIcon = icon;
        this.onSelect.emit(icon);
    }
    composeIconCategories() {
        const iconCategories = [allIconCategory];
        for (const iconType of Object.keys(iconsByCategory)) {
            if (this.iconCategoriesToExclude.includes(iconType)) {
                continue;
            }
            iconCategories.push({
                name: iconType,
                displayName: iconsByCategory[iconType].label
            });
        }
        return iconCategories;
    }
    resetIcons() {
        this.icons = Object.assign({}, iconsByCategory);
        this.iconCategoriesToExclude.forEach(category => {
            if (this.icons[category]) {
                delete this.icons[category];
            }
        });
    }
}
IconSelectorComponent.decorators = [
    { type: Component, args: [{
                selector: 'c8y-icon-selector',
                template: "<div class=\"p-l-24 p-r-24 p-t-8 p-b-8 separator-bottom\">\n  <div class=\"row d-flex-sm\">\n    <div class=\"col-sm-6 m-b-8\">\n      <div class=\"input-group-search input-group\" style=\"width: auto\">\n        <input\n          type=\"search\"\n          class=\"form-control\"\n          id=\"filter-icons\"\n          [(ngModel)]=\"quickSearch\"\n          placeholder=\"{{ 'Type to filter icons\u2026' | translate }}\"\n        />\n        <span class=\"input-group-addon\" *ngIf=\"!quickSearch || quickSearch.length === 0\">\n          <i c8yIcon=\"search\"></i>\n        </span>\n        <span\n          class=\"input-group-addon pointer\"\n          *ngIf=\"quickSearch && quickSearch.length > 0\"\n          (click)=\"quickSearch = ''\"\n        >\n          <i c8yIcon=\"times\"></i>\n        </span>\n      </div>\n    </div>\n    <div class=\"col-sm-6 m-b-8\">\n      <div class=\"d-flex a-i-center\">\n        <label class=\"m-b-0 m-r-8 flex-no-shrink\" translate>Filter by type</label>\n        <div class=\"c8y-select-wrapper\">\n          <select\n            id=\"exampleSelect\"\n            class=\"form-control\"\n            [(ngModel)]=\"selectedIconCategory\"\n            (change)=\"onCategoryFilterChanged()\"\n          >\n            <option *ngFor=\"let category of iconCategories\" [ngValue]=\"category\">\n              {{ category.displayName | translate }}\n            </option>\n          </select>\n          <span></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=\"modal-inner-scroll\">\n  <div class=\"modal-body\" style=\"height: calc(100vh - 293px)\">\n    <div class=\"dtm-icon-grid\">\n      <div *ngFor=\"let iconDefinition of icons | keyvalue\" class=\"d-contents\">\n        <div *ngIf=\"!quickSearch\" class=\"legend form-block center grid__col--fullspan\">\n          {{ iconDefinition.value.label | translate }}\n        </div>\n\n        <div class=\"d-contents\" *ngFor=\"let icon of iconDefinition.value.icons\">\n          <div\n            class=\"dtm-icon-grid__item\"\n            [ngClass]=\"{\n              'dtm-icon-grid__item--selected': selectedIcon && icon === selectedIcon\n            }\"\n            *ngIf=\"!quickSearch || quickSearch.length === 0 || icon.indexOf(quickSearch) > -1\"\n          >\n            <button (click)=\"onIconClicked(icon)\" class=\"dtm-icon-grid__btn\" [title]=\"icon\">\n              <i [c8yIcon]=\"icon\" class=\"d-block icon-40\"></i>\n              <small *ngIf=\"showIconClass\" class=\"text-break-word\">{{ icon }}</small>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"
            },] }
];
IconSelectorComponent.propDecorators = {
    iconCategoriesToExclude: [{ type: Input }],
    showIconClass: [{ type: Input }],
    onSelect: [{ type: Output }],
    selectedIcon: [{ type: Input }]
};

class IconSelectorModule {
}
IconSelectorModule.decorators = [
    { type: NgModule, args: [{
                imports: [CommonModule, FormsModule, DropAreaModule],
                declarations: [IconSelectorComponent, IconSelectorModalComponent],
                exports: [IconSelectorComponent, IconSelectorModalComponent]
            },] }
];

class IconSelectorService {
    constructor(modal) {
        this.modal = modal;
    }
    selectIcon(initialState = {}) {
        const modal = this.modal.show(IconSelectorModalComponent, {
            ignoreBackdropClick: true,
            keyboard: false,
            initialState,
            class: 'modal-lg'
        });
        const content = modal.content;
        return content.result;
    }
}
IconSelectorService.ɵprov = i0.ɵɵdefineInjectable({ factory: function IconSelectorService_Factory() { return new IconSelectorService(i0.ɵɵinject(i1.BsModalService)); }, token: IconSelectorService, providedIn: "root" });
IconSelectorService.decorators = [
    { type: Injectable, args: [{ providedIn: 'root' },] }
];
IconSelectorService.ctorParameters = () => [
    { type: BsModalService }
];

/**
 * Generated bundle index. Do not edit.
 */

export { IconSelectorComponent, IconSelectorModule, IconSelectorService, cityIcons, devicesAndSensorsIcons, iconsByCategory, locationIcons, officeIcons, securityIcons, transportIcons, userInterfaceIcons, weatherIcons, IconSelectorModalComponent as ɵa };
//# sourceMappingURL=c8y-ngx-components-icon-selector.js.map
