{"version":3,"file":"gainsight.service.d.ts","sources":["gainsight.service.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA","sourcesContent":["import { ICustomProperties } from '@c8y/client';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { CookieBannerService } from '../bootstrap/cookie-banner/cookie-banner.service';\nimport { OptionsService } from '../common/options.service';\nimport { AppStateService } from '../common/ui-state.service';\nimport { UserPreferencesService } from '../common/user-preferences/user-preferences.service';\n/**\n * A service to manage the Gainsight integration. It allows to load the\n * tag and\n */\nexport declare class GainsightService {\n    private appState;\n    private options;\n    private cookieBannerService;\n    private userPreferencesService;\n    private translateService;\n    /**\n     * A subject that emits the tag function as soon as a new tag is set.\n     */\n    tagFunction$: BehaviorSubject<any>;\n    readonly USER_PREFERENCES_KEY = \"gainsightEnabled\";\n    private readonly GAINSIGHT_URL;\n    private readonly GAINSIGHT_GLOBAL_SCOPE;\n    private readonly SCRIPT_EXECUTION_WAIT_TIME;\n    private readonly OPTIONS_KEY_CATEGORY;\n    private readonly OPTIONS_KEY_NAME;\n    private isScriptLoaded;\n    private gainsightKey;\n    private cachedRevertedTranslations;\n    private cachedLanguage;\n    constructor(appState: AppStateService, options: OptionsService, cookieBannerService: CookieBannerService, userPreferencesService: UserPreferencesService, translateService: TranslateService);\n    isGainsightDisabledInUserPreferences(): Promise<boolean>;\n    setFunctionalCookie(value: boolean): void;\n    getGainsightKey(): Promise<string>;\n    /**\n     * Returns the tag global function which can be used to identify user\n     * or add special events.\n     */\n    get tagFunction(): any;\n    /**\n     * Load the script tag and calls the identify function to start the tracking.\n     * @param currentTenant The current tenant.\n     * @param identify If set to false, only the tag is loaded.\n     */\n    loadTag(currentTenant: any, identify?: boolean): Promise<void>;\n    /**\n     * Identifies the user/account at Gainsight.\n     * @param user The user which is given to Gainsight.\n     * @param tenant The tenant which is given to Gainsight.\n     * @param versionUI The UI version used.\n     * @param versionBE The BE version used.\n     */\n    identify(user: any, tenant: any, instanceId: any, versionUI?: any, versionBE?: any): void;\n    triggerEvent(eventName: string, props?: object): void;\n    translateToEnglish(textToTranslate: string): string;\n    /**\n     * Checks if the Gainsight's tag should be loaded.\n     * The decision to load Gainsight will depend on custom properties and functional cookies.\n     * @param customProperties Tenant's customProperties.\n     */\n    shouldLoadGainsightTag(customProperties: ICustomProperties): boolean;\n    canEditProductExperienceSettings(): Promise<boolean>;\n    private prepareEventName;\n    private isGainsightDisabled;\n    private isCustomBranding;\n    private loadScriptTag;\n    private getInstanceIdFromUrl;\n    /**\n     * Reverses the translation object.\n     *\n     * **Example**\n     * { Add widget: \"Widget hinzufügen\" }\n     *\n     * will be changed to:\n     *\n     * { Widget hinzufügen: \"Add widget\" }\n     *\n     * @param currentLang Language whose translated values are to be placed in the object key.\n     * @returns Returns an inverted object where the keys have been swapped with the values.\n     */\n    private getRevertedTranslations;\n    /**Translates string back into English.\n     * If the current application language is set to English, the string passed as an argument is returned.\n     * @param textToTranslate string to translate.\n     * @returns Returns the string translated into English.\n     */\n    private getEnTranslation;\n}\n"]}