import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { Component, EventEmitter, HostBinding, Input, Output } from '@angular/core';
export class StatusFilterComponent {
    constructor() {
        this.statusOptions = [];
        this.onFilterChanged = new EventEmitter();
        this.isAllButtonSelected = true;
    }
    /** List of filter options to be displayed */
    set options(options) {
        this.statusOptions = (Object.values(options) || []).map(option => ({
            selected: false,
            option
        }));
    }
    /**
     * Allows multiple options to be active simultaneosly.
     */
    set _multiple(multiple) {
        this.multiple = coerceBooleanProperty(multiple);
    }
    /** Display the filter as a small button group */
    set _small(small) {
        this.small = coerceBooleanProperty(small);
    }
    get displaySmall() {
        return this.small;
    }
    changeFilter(option) {
        this.isAllButtonSelected = false;
        let emitNeeded = false;
        if (this.multiple) {
            option.selected = !option.selected;
            emitNeeded = true;
        }
        else if (!option.selected) {
            option.selected = true;
            this.statusOptions.filter(op => op !== option).forEach(op => (op.selected = false));
            emitNeeded = true;
        }
        if (emitNeeded) {
            this.emitSelectedOptions();
        }
    }
    removeFilter() {
        this.isAllButtonSelected = true;
        this.statusOptions.forEach(op => (op.selected = false));
        this.emitSelectedOptions();
    }
    /**
     * Allows the filter to be initalliy displayed with some preset filters.
     *
     * @param filters An `StatusOption` array defining filter options to be preset.
     * @param emit  (optional) If `true` component will emit `onFilterChanged` event.
     */
    preset(filters, emit = true) {
        let firstSelected = false;
        this.statusOptions.forEach(option => (option.selected = false));
        this.statusOptions
            .filter(option => (filters || []).map(o => o.label).includes(option.option.label))
            .filter(() => {
            // only first option passed will be set in single selection mode
            const include = this.multiple || !firstSelected;
            if (include) {
                firstSelected = true;
            }
            return include;
        })
            .forEach(option => (option.selected = true));
        this.isAllButtonSelected = !(filters && filters.length);
        if (emit) {
            this.emitSelectedOptions();
        }
    }
    reset() {
        this.removeFilter();
    }
    activeFilters() {
        return this.statusOptions.filter(option => option.selected).map(option => option.option);
    }
    isFilterApplied() {
        return this.statusOptions.some(option => option.selected);
    }
    emitSelectedOptions() {
        this.onFilterChanged.emit(this.statusOptions.filter(option => option.selected).map(option => option.option));
    }
}
StatusFilterComponent.decorators = [
    { type: Component, args: [{
                selector: 'c8y-status-filter',
                template: "<div dropdown placement=\"bottom left\" class=\"dropdown c8y-child-assets-selector\">\n  <button\n    id=\"status-filter\"\n    dropdownToggle\n    type=\"button\"\n    class=\"btn dropdown-toggle d-flex a-i-center c8y-dropdown\"\n    title=\"{{ 'Status filter' | translate }}\"\n    aria-controls=\"dropdown-status-filter\"\n  >\n    <span *ngFor=\"let option of statusOptions\" class=\"d-contents\">\n      <span class=\"text-truncate\" *ngIf=\"option.selected\">\n        <i [c8yIcon]=\"option.option.icon\" [ngClass]=\"option.option.styleClass\"></i>\n        <span class=\"m-l-4\">{{ option.option.label | translate }}</span>\n      </span>\n    </span>\n    <span class=\"text-truncate\" *ngIf=\"isAllButtonSelected\">\n      <i c8yIcon=\"c8y-energy\" class=\"m-r-4 text-info\"></i>\n      {{ 'All statuses' | translate }}\n    </span>\n  </button>\n  <ul\n    id=\"dropdown-status-filter\"\n    *dropdownMenu\n    class=\"dropdown-menu\"\n    role=\"menu\"\n    aria-labelledby=\"status-filter\"\n  >\n    <li *ngFor=\"let option of statusOptions\" [ngClass]=\"{ active: option.selected }\">\n      <button (click)=\"changeFilter(option)\">\n        <i [c8yIcon]=\"option.option.icon\" [ngClass]=\"option.option.styleClass\"></i>\n        <span class=\"m-l-4\">{{ option.option.label | translate }}</span>\n      </button>\n    </li>\n    <li [ngClass]=\"{ active: isAllButtonSelected }\">\n      <button title=\"{{ 'All' | translate }}\" (click)=\"removeFilter()\">\n        <i c8yIcon=\"c8y-energy\" class=\"m-r-4 text-info\"></i>\n        {{ 'All statuses' | translate }}\n      </button>\n    </li>\n  </ul>\n</div>\n"
            },] }
];
StatusFilterComponent.propDecorators = {
    options: [{ type: Input }],
    _multiple: [{ type: Input, args: ['multiple',] }],
    _small: [{ type: Input, args: ['small',] }],
    displaySmall: [{ type: HostBinding, args: ['class.btn-group-sm',] }],
    onFilterChanged: [{ type: Output }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdHVzLWZpbHRlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9vcGVyYXRpb25zL3N0YXR1cy1maWx0ZXIvc3RhdHVzLWZpbHRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFPcEYsTUFBTSxPQUFPLHFCQUFxQjtJQUpsQztRQUtFLGtCQUFhLEdBQXVELEVBQUUsQ0FBQztRQTBCN0Qsb0JBQWUsR0FBaUMsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUU3RSx3QkFBbUIsR0FBWSxJQUFJLENBQUM7SUE4RXRDLENBQUM7SUF4R0MsNkNBQTZDO0lBQzdDLElBQWEsT0FBTyxDQUFDLE9BQWtDO1FBQ3JELElBQUksQ0FBQyxhQUFhLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDakUsUUFBUSxFQUFFLEtBQUs7WUFDZixNQUFNO1NBQ1AsQ0FBQyxDQUFDLENBQUM7SUFDTixDQUFDO0lBRUQ7O09BRUc7SUFDSCxJQUF1QixTQUFTLENBQUMsUUFBaUI7UUFDaEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsaURBQWlEO0lBQ2pELElBQW9CLE1BQU0sQ0FBQyxLQUFjO1FBQ3ZDLElBQUksQ0FBQyxLQUFLLEdBQUcscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUVELElBQXVDLFlBQVk7UUFDakQsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3BC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Q0FBQyxDQUFDO0lBQzVELENBQUM7SUFFTyxtQkFBbUI7UUFDekIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQ3ZCLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FDbEYsQ0FBQztJQUNKLENBQUM7OztZQTlHRixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLG1CQUFtQjtnQkFDN0Isd21EQUE2QzthQUM5Qzs7O3NCQUtFLEtBQUs7d0JBVUwsS0FBSyxTQUFDLFVBQVU7cUJBS2hCLEtBQUssU0FBQyxPQUFPOzJCQUliLFdBQVcsU0FBQyxvQkFBb0I7OEJBSWhDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb2VyY2VCb29sZWFuUHJvcGVydHkgfSBmcm9tICdAYW5ndWxhci9jZGsvY29lcmNpb24nO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIEhvc3RCaW5kaW5nLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdGF0dXNPcHRpb24sIE9wZXJhdGlvblN0YXR1c09wdGlvbnNNYXAgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzL29wZXJhdGlvbnMvc2hhcmVkJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LXN0YXR1cy1maWx0ZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vc3RhdHVzLWZpbHRlci5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgU3RhdHVzRmlsdGVyQ29tcG9uZW50IHtcbiAgc3RhdHVzT3B0aW9uczogQXJyYXk8eyBzZWxlY3RlZDogYm9vbGVhbjsgb3B0aW9uOiBTdGF0dXNPcHRpb24gfT4gPSBbXTtcblxuICAvKiogTGlzdCBvZiBmaWx0ZXIgb3B0aW9ucyB0byBiZSBkaXNwbGF5ZWQgKi9cbiAgQElucHV0KCkgc2V0IG9wdGlvbnMob3B0aW9uczogT3BlcmF0aW9uU3RhdHVzT3B0aW9uc01hcCkge1xuICAgIHRoaXMuc3RhdHVzT3B0aW9ucyA9IChPYmplY3QudmFsdWVzKG9wdGlvbnMpIHx8IFtdKS5tYXAob3B0aW9uID0+ICh7XG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICBvcHRpb25cbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIG11bHRpcGxlIG9wdGlvbnMgdG8gYmUgYWN0aXZlIHNpbXVsdGFuZW9zbHkuXG4gICAqL1xuICBASW5wdXQoJ211bHRpcGxlJykgc2V0IF9tdWx0aXBsZShtdWx0aXBsZTogYm9vbGVhbikge1xuICAgIHRoaXMubXVsdGlwbGUgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkobXVsdGlwbGUpO1xuICB9XG5cbiAgLyoqIERpc3BsYXkgdGhlIGZpbHRlciBhcyBhIHNtYWxsIGJ1dHRvbiBncm91cCAqL1xuICBASW5wdXQoJ3NtYWxsJykgc2V0IF9zbWFsbChzbWFsbDogYm9vbGVhbikge1xuICAgIHRoaXMuc21hbGwgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkoc21hbGwpO1xuICB9XG5cbiAgQEhvc3RCaW5kaW5nKCdjbGFzcy5idG4tZ3JvdXAtc20nKSBnZXQgZGlzcGxheVNtYWxsKCkge1xuICAgIHJldHVybiB0aGlzLnNtYWxsO1xuICB9XG5cbiAgQE91dHB1dCgpIG9uRmlsdGVyQ2hhbmdlZDogRXZlbnRFbWl0dGVyPFN0YXR1c09wdGlvbltdPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBpc0FsbEJ1dHRvblNlbGVjdGVkOiBib29sZWFuID0gdHJ1ZTtcblxuICBwcml2YXRlIG11bHRpcGxlOiBib29sZWFuO1xuICBwcml2YXRlIHNtYWxsOiBib29sZWFuO1xuXG4gIGNoYW5nZUZpbHRlcihvcHRpb246IHsgc2VsZWN0ZWQ6IGJvb2xlYW47IG9wdGlvbjogU3RhdHVzT3B0aW9uIH0pIHtcbiAgICB0aGlzLmlzQWxsQnV0dG9uU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICBsZXQgZW1pdE5lZWRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9ICFvcHRpb24uc2VsZWN0ZWQ7XG4gICAgICBlbWl0TmVlZGVkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgICB0aGlzLnN0YXR1c09wdGlvbnMuZmlsdGVyKG9wID0+IG9wICE9PSBvcHRpb24pLmZvckVhY2gob3AgPT4gKG9wLnNlbGVjdGVkID0gZmFsc2UpKTtcbiAgICAgIGVtaXROZWVkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChlbWl0TmVlZGVkKSB7XG4gICAgICB0aGlzLmVtaXRTZWxlY3RlZE9wdGlvbnMoKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVGaWx0ZXIoKSB7XG4gICAgdGhpcy5pc0FsbEJ1dHRvblNlbGVjdGVkID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXR1c09wdGlvbnMuZm9yRWFjaChvcCA9PiAob3Auc2VsZWN0ZWQgPSBmYWxzZSkpO1xuXG4gICAgdGhpcy5lbWl0U2VsZWN0ZWRPcHRpb25zKCk7XG4gIH1cblxuICAvKipcbiAgICogQWxsb3dzIHRoZSBmaWx0ZXIgdG8gYmUgaW5pdGFsbGl5IGRpc3BsYXllZCB3aXRoIHNvbWUgcHJlc2V0IGZpbHRlcnMuXG4gICAqXG4gICAqIEBwYXJhbSBmaWx0ZXJzIEFuIGBTdGF0dXNPcHRpb25gIGFycmF5IGRlZmluaW5nIGZpbHRlciBvcHRpb25zIHRvIGJlIHByZXNldC5cbiAgICogQHBhcmFtIGVtaXQgIChvcHRpb25hbCkgSWYgYHRydWVgIGNvbXBvbmVudCB3aWxsIGVtaXQgYG9uRmlsdGVyQ2hhbmdlZGAgZXZlbnQuXG4gICAqL1xuICBwcmVzZXQoZmlsdGVyczogU3RhdHVzT3B0aW9uW10sIGVtaXQ6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgbGV0IGZpcnN0U2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHRoaXMuc3RhdHVzT3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiAob3B0aW9uLnNlbGVjdGVkID0gZmFsc2UpKTtcblxuICAgIHRoaXMuc3RhdHVzT3B0aW9uc1xuICAgICAgLmZpbHRlcihvcHRpb24gPT4gKGZpbHRlcnMgfHwgW10pLm1hcChvID0+IG8ubGFiZWwpLmluY2x1ZGVzKG9wdGlvbi5vcHRpb24ubGFiZWwpKVxuICAgICAgLmZpbHRlcigoKSA9PiB7XG4gICAgICAgIC8vIG9ubHkgZmlyc3Qgb3B0aW9uIHBhc3NlZCB3aWxsIGJlIHNldCBpbiBzaW5nbGUgc2VsZWN0aW9uIG1vZGVcbiAgICAgICAgY29uc3QgaW5jbHVkZTogYm9vbGVhbiA9IHRoaXMubXVsdGlwbGUgfHwgIWZpcnN0U2VsZWN0ZWQ7XG4gICAgICAgIGlmIChpbmNsdWRlKSB7XG4gICAgICAgICAgZmlyc3RTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5jbHVkZTtcbiAgICAgIH0pXG4gICAgICAuZm9yRWFjaChvcHRpb24gPT4gKG9wdGlvbi5zZWxlY3RlZCA9IHRydWUpKTtcblxuICAgIHRoaXMuaXNBbGxCdXR0b25TZWxlY3RlZCA9ICEoZmlsdGVycyAmJiBmaWx0ZXJzLmxlbmd0aCk7XG5cbiAgICBpZiAoZW1pdCkge1xuICAgICAgdGhpcy5lbWl0U2VsZWN0ZWRPcHRpb25zKCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5yZW1vdmVGaWx0ZXIoKTtcbiAgfVxuXG4gIGFjdGl2ZUZpbHRlcnMoKTogU3RhdHVzT3B0aW9uW10ge1xuICAgIHJldHVybiB0aGlzLnN0YXR1c09wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpLm1hcChvcHRpb24gPT4gb3B0aW9uLm9wdGlvbik7XG4gIH1cblxuICBpc0ZpbHRlckFwcGxpZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHVzT3B0aW9ucy5zb21lKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbWl0U2VsZWN0ZWRPcHRpb25zKCkge1xuICAgIHRoaXMub25GaWx0ZXJDaGFuZ2VkLmVtaXQoXG4gICAgICB0aGlzLnN0YXR1c09wdGlvbnMuZmlsdGVyKG9wdGlvbiA9PiBvcHRpb24uc2VsZWN0ZWQpLm1hcChvcHRpb24gPT4gb3B0aW9uLm9wdGlvbilcbiAgICApO1xuICB9XG59XG4iXX0=