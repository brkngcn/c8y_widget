import { Component } from '@angular/core';
import { gettext } from '@c8y/ngx-components';
import { BsModalRef } from 'ngx-bootstrap/modal';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from 'ngx-bootstrap/modal';
import * as ɵngcc2 from '../icon-selector.component';
import * as ɵngcc3 from '@c8y/ngx-components';
export class IconSelectorModalComponent {
    constructor(bsModal) {
        this.bsModal = bsModal;
        this.title = gettext('Select icon');
        this.saveButtonLabel = gettext('Select');
        this.iconCategoriesToExclude = [];
        this.showIconClass = true;
        this.result = new Promise((resolve, reject) => {
            this.save = resolve;
            this.cancel = reject;
        });
    }
    close() {
        this.bsModal.hide();
        this.cancel();
    }
    saveChanges() {
        this.bsModal.hide();
        this.save(this.currentSelection);
    }
    selectionChange(newSelection) {
        this.currentSelection = newSelection;
    }
}
IconSelectorModalComponent.ɵfac = function IconSelectorModalComponent_Factory(t) { return new (t || IconSelectorModalComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.BsModalRef)); };
IconSelectorModalComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: IconSelectorModalComponent, selectors: [["c8y-icon-selector-modal"]], decls: 13, vars: 13, consts: [[1, "modal-header"], [1, "modal-title", "pull-left"], [1, "modal-body"], [3, "selectedIcon", "iconCategoriesToExclude", "showIconClass", "onSelect"], [1, "modal-footer", "separator", "text-center"], [1, "btn", "btn-default", 3, "click"], [1, "btn", "btn-primary", 3, "disabled", "click"]], template: function IconSelectorModalComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵelementStart(1, "h4", 1);
        ɵngcc0.ɵɵtext(2);
        ɵngcc0.ɵɵpipe(3, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(4, "div", 2);
        ɵngcc0.ɵɵelementStart(5, "c8y-icon-selector", 3);
        ɵngcc0.ɵɵlistener("onSelect", function IconSelectorModalComponent_Template_c8y_icon_selector_onSelect_5_listener($event) { return ctx.selectionChange($event); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(6, "div", 4);
        ɵngcc0.ɵɵelementStart(7, "button", 5);
        ɵngcc0.ɵɵlistener("click", function IconSelectorModalComponent_Template_button_click_7_listener() { return ctx.close(); });
        ɵngcc0.ɵɵtext(8);
        ɵngcc0.ɵɵpipe(9, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(10, "button", 6);
        ɵngcc0.ɵɵlistener("click", function IconSelectorModalComponent_Template_button_click_10_listener() { return ctx.saveChanges(); });
        ɵngcc0.ɵɵtext(11);
        ɵngcc0.ɵɵpipe(12, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 7, ctx.title));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("selectedIcon", ctx.currentSelection)("iconCategoriesToExclude", ctx.iconCategoriesToExclude)("showIconClass", ctx.showIconClass);
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(9, 9, "Cancel"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("disabled", !ctx.currentSelection);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(12, 11, ctx.saveButtonLabel), " ");
    } }, directives: [ɵngcc2.IconSelectorComponent], pipes: [ɵngcc3.C8yTranslatePipe], encapsulation: 2 });
IconSelectorModalComponent.ctorParameters = () => [
    { type: BsModalRef }
];
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(IconSelectorModalComponent, [{
        type: Component,
        args: [{
                selector: 'c8y-icon-selector-modal',
                template: "<div class=\"modal-header\">\n  <h4 class=\"modal-title pull-left\">{{ title | translate }}</h4>\n</div>\n<div class=\"modal-body\">\n  <c8y-icon-selector\n    (onSelect)=\"selectionChange($event)\"\n    [selectedIcon]=\"currentSelection\"\n    [iconCategoriesToExclude]=\"iconCategoriesToExclude\"\n    [showIconClass]=\"showIconClass\"\n  ></c8y-icon-selector>\n</div>\n<div class=\"modal-footer separator text-center\">\n  <button class=\"btn btn-default\" (click)=\"close()\">\n    {{ 'Cancel' | translate }}\n  </button>\n  <button class=\"btn btn-primary\" [disabled]=\"!currentSelection\" (click)=\"saveChanges()\">\n    {{ saveButtonLabel | translate }}\n  </button>\n</div>\n"
            }]
    }], function () { return [{ type: ɵngcc1.BsModalRef }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNvbi1zZWxlY3Rvci1tb2RhbC5jb21wb25lbnQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2ljb24tc2VsZWN0b3IvaWNvbi1zZWxlY3Rvci1tb2RhbC9pY29uLXNlbGVjdG9yLW1vZGFsLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0scUJBQXFCLENBQUM7Ozs7O0FBTWpELE1BQU0sT0FBTywwQkFBMEI7QUFDdkMsSUFjRSxZQUFvQixPQUFtQjtBQUFJLFFBQXZCLFlBQU8sR0FBUCxPQUFPLENBQVk7QUFBQyxRQWR4QyxVQUFLLEdBQVcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ3pDLFFBQ0Usb0JBQWUsR0FBVyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDOUMsUUFBRSw0QkFBdUIsR0FBYSxFQUFFLENBQUM7QUFDekMsUUFBRSxrQkFBYSxHQUFHLElBQUksQ0FBQztBQUN2QixRQUNXLFdBQU0sR0FBb0IsSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7QUFDckUsWUFBSSxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztBQUN4QixZQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0FBQ3pCLFFBQUUsQ0FBQyxDQUFDLENBQUM7QUFDTCxJQUk0QyxDQUFDO0FBQzdDLElBQ0UsS0FBSztBQUNQLFFBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUN4QixRQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztBQUNsQixJQUFFLENBQUM7QUFDSCxJQUNFLFdBQVc7QUFBSyxRQUNkLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDeEIsUUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3JDLElBQUUsQ0FBQztBQUNILElBQ0UsZUFBZSxDQUFDLFlBQW9CO0FBQ3RDLFFBQUksSUFBSSxDQUFDLGdCQUFnQixHQUFHLFlBQVksQ0FBQztBQUN6QyxJQUFFLENBQUM7QUFDSDtzREFsQ0MsU0FBUyxTQUFDLGtCQUNULFFBQVEsRUFBRSx5QkFBeUIsa0JBQ25DOzs7O3dCQUFtRDtZQUNwRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsyR0FDSTtBQUFDO0FBQ1UsWUFQUCxVQUFVO0FBQUc7Ozs7Ozs7MkVBQUU7QUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgZ2V0dGV4dCB9IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgQnNNb2RhbFJlZiB9IGZyb20gJ25neC1ib290c3RyYXAvbW9kYWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktaWNvbi1zZWxlY3Rvci1tb2RhbCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9pY29uLXNlbGVjdG9yLW1vZGFsLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBJY29uU2VsZWN0b3JNb2RhbENvbXBvbmVudCB7XG4gIHRpdGxlOiBzdHJpbmcgPSBnZXR0ZXh0KCdTZWxlY3QgaWNvbicpO1xuICBjdXJyZW50U2VsZWN0aW9uOiBzdHJpbmc7XG4gIHNhdmVCdXR0b25MYWJlbDogc3RyaW5nID0gZ2V0dGV4dCgnU2VsZWN0Jyk7XG4gIGljb25DYXRlZ29yaWVzVG9FeGNsdWRlOiBzdHJpbmdbXSA9IFtdO1xuICBzaG93SWNvbkNsYXNzID0gdHJ1ZTtcblxuICByZWFkb25seSByZXN1bHQ6IFByb21pc2U8c3RyaW5nPiA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB0aGlzLnNhdmUgPSByZXNvbHZlO1xuICAgIHRoaXMuY2FuY2VsID0gcmVqZWN0O1xuICB9KTtcblxuICBwcml2YXRlIHNhdmU6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBwcml2YXRlIGNhbmNlbDogKHJlYXNvbj86IGFueSkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGJzTW9kYWw6IEJzTW9kYWxSZWYpIHt9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5ic01vZGFsLmhpZGUoKTtcbiAgICB0aGlzLmNhbmNlbCgpO1xuICB9XG5cbiAgc2F2ZUNoYW5nZXMoKTogdm9pZCB7XG4gICAgdGhpcy5ic01vZGFsLmhpZGUoKTtcbiAgICB0aGlzLnNhdmUodGhpcy5jdXJyZW50U2VsZWN0aW9uKTtcbiAgfVxuXG4gIHNlbGVjdGlvbkNoYW5nZShuZXdTZWxlY3Rpb246IHN0cmluZykge1xuICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbiA9IG5ld1NlbGVjdGlvbjtcbiAgfVxufVxuIl19