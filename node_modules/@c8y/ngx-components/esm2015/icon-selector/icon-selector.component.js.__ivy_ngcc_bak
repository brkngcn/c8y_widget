import { Component, EventEmitter, Input, Output } from '@angular/core';
import { iconsByCategory } from './icon-constant';
const allIconCategory = { name: 'all', displayName: 'All' };
export class IconSelectorComponent {
    constructor() {
        this.iconCategoriesToExclude = [];
        this.showIconClass = true;
        this.onSelect = new EventEmitter();
    }
    ngOnInit() {
        this.iconCategories = this.composeIconCategories();
        this.selectedIconCategory = allIconCategory;
        this.resetIcons();
    }
    onCategoryFilterChanged() {
        const selectedCategory = this.selectedIconCategory;
        if (selectedCategory.name === allIconCategory.name) {
            this.resetIcons();
            return;
        }
        else {
            this.icons = {
                [selectedCategory.name]: iconsByCategory[selectedCategory.name]
            };
        }
    }
    onIconClicked(icon) {
        this.selectedIcon = icon;
        this.onSelect.emit(icon);
    }
    composeIconCategories() {
        const iconCategories = [allIconCategory];
        for (const iconType of Object.keys(iconsByCategory)) {
            if (this.iconCategoriesToExclude.includes(iconType)) {
                continue;
            }
            iconCategories.push({
                name: iconType,
                displayName: iconsByCategory[iconType].label
            });
        }
        return iconCategories;
    }
    resetIcons() {
        this.icons = Object.assign({}, iconsByCategory);
        this.iconCategoriesToExclude.forEach(category => {
            if (this.icons[category]) {
                delete this.icons[category];
            }
        });
    }
}
IconSelectorComponent.decorators = [
    { type: Component, args: [{
                selector: 'c8y-icon-selector',
                template: "<div class=\"p-l-24 p-r-24 p-t-8 p-b-8 separator-bottom\">\n  <div class=\"row d-flex-sm\">\n    <div class=\"col-sm-6 m-b-8\">\n      <div class=\"input-group-search input-group\" style=\"width: auto\">\n        <input\n          type=\"search\"\n          class=\"form-control\"\n          id=\"filter-icons\"\n          [(ngModel)]=\"quickSearch\"\n          placeholder=\"{{ 'Type to filter icons\u2026' | translate }}\"\n        />\n        <span class=\"input-group-addon\" *ngIf=\"!quickSearch || quickSearch.length === 0\">\n          <i c8yIcon=\"search\"></i>\n        </span>\n        <span\n          class=\"input-group-addon pointer\"\n          *ngIf=\"quickSearch && quickSearch.length > 0\"\n          (click)=\"quickSearch = ''\"\n        >\n          <i c8yIcon=\"times\"></i>\n        </span>\n      </div>\n    </div>\n    <div class=\"col-sm-6 m-b-8\">\n      <div class=\"d-flex a-i-center\">\n        <label class=\"m-b-0 m-r-8 flex-no-shrink\" translate>Filter by type</label>\n        <div class=\"c8y-select-wrapper\">\n          <select\n            id=\"exampleSelect\"\n            class=\"form-control\"\n            [(ngModel)]=\"selectedIconCategory\"\n            (change)=\"onCategoryFilterChanged()\"\n          >\n            <option *ngFor=\"let category of iconCategories\" [ngValue]=\"category\">\n              {{ category.displayName | translate }}\n            </option>\n          </select>\n          <span></span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n<div class=\"modal-inner-scroll\">\n  <div class=\"modal-body\" style=\"height: calc(100vh - 293px)\">\n    <div class=\"dtm-icon-grid\">\n      <div *ngFor=\"let iconDefinition of icons | keyvalue\" class=\"d-contents\">\n        <div *ngIf=\"!quickSearch\" class=\"legend form-block center grid__col--fullspan\">\n          {{ iconDefinition.value.label | translate }}\n        </div>\n\n        <div class=\"d-contents\" *ngFor=\"let icon of iconDefinition.value.icons\">\n          <div\n            class=\"dtm-icon-grid__item\"\n            [ngClass]=\"{\n              'dtm-icon-grid__item--selected': selectedIcon && icon === selectedIcon\n            }\"\n            *ngIf=\"!quickSearch || quickSearch.length === 0 || icon.indexOf(quickSearch) > -1\"\n          >\n            <button (click)=\"onIconClicked(icon)\" class=\"dtm-icon-grid__btn\" [title]=\"icon\">\n              <i [c8yIcon]=\"icon\" class=\"d-block icon-40\"></i>\n              <small *ngIf=\"showIconClass\" class=\"text-break-word\">{{ icon }}</small>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"
            },] }
];
IconSelectorComponent.propDecorators = {
    iconCategoriesToExclude: [{ type: Input }],
    showIconClass: [{ type: Input }],
    onSelect: [{ type: Output }],
    selectedIcon: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNvbi1zZWxlY3Rvci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9pY29uLXNlbGVjdG9yL2ljb24tc2VsZWN0b3IuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBVSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDL0UsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBR2xELE1BQU0sZUFBZSxHQUFpQixFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLEtBQUssRUFBRSxDQUFDO0FBTzFFLE1BQU0sT0FBTyxxQkFBcUI7SUFMbEM7UUFNVyw0QkFBdUIsR0FBYSxFQUFFLENBQUM7UUFDdkMsa0JBQWEsR0FBRyxJQUFJLENBQUM7UUFDcEIsYUFBUSxHQUFHLElBQUksWUFBWSxFQUFVLENBQUM7SUFxRGxELENBQUM7SUE3Q0MsUUFBUTtRQUNOLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFDbkQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLGVBQWUsQ0FBQztRQUM1QyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUVELHVCQUF1QjtRQUNyQixNQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQztRQUNuRCxJQUFJLGdCQUFnQixDQUFDLElBQUksS0FBSyxlQUFlLENBQUMsSUFBSSxFQUFFO1lBQ2xELElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztZQUNsQixPQUFPO1NBQ1I7YUFBTTtZQUNMLElBQUksQ0FBQyxLQUFLLEdBQUc7Z0JBQ1gsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsRUFBRSxlQUFlLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDO2FBQ2hFLENBQUM7U0FDSDtJQUNILENBQUM7SUFFRCxhQUFhLENBQUMsSUFBWTtRQUN4QixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRU8scUJBQXFCO1FBQzNCLE1BQU0sY0FBYyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDekMsS0FBSyxNQUFNLFFBQVEsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQ25ELElBQUksSUFBSSxDQUFDLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDbkQsU0FBUzthQUNWO1lBQ0QsY0FBYyxDQUFDLElBQUksQ0FBQztnQkFDbEIsSUFBSSxFQUFFLFFBQVE7Z0JBQ2QsV0FBVyxFQUFFLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLO2FBQzdDLENBQUMsQ0FBQztTQUNKO1FBQ0QsT0FBTyxjQUFjLENBQUM7SUFDeEIsQ0FBQztJQUVPLFVBQVU7UUFDaEIsSUFBSSxDQUFDLEtBQUsscUJBQVEsZUFBZSxDQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUM5QyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ3hCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUM3QjtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQzs7O1lBNURGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsbUJBQW1CO2dCQUM3Qiw2bUZBQTZDO2FBRTlDOzs7c0NBRUUsS0FBSzs0QkFDTCxLQUFLO3VCQUNMLE1BQU07MkJBS04sS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGljb25zQnlDYXRlZ29yeSB9IGZyb20gJy4vaWNvbi1jb25zdGFudCc7XG5pbXBvcnQgeyBEZWZhdWx0SWNvbnMsIEljb25DYXRlZ29yeSB9IGZyb20gJy4vaWNvbi1zZWxlY3Rvci5tb2RlbCc7XG5cbmNvbnN0IGFsbEljb25DYXRlZ29yeTogSWNvbkNhdGVnb3J5ID0geyBuYW1lOiAnYWxsJywgZGlzcGxheU5hbWU6ICdBbGwnIH07XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1pY29uLXNlbGVjdG9yJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2ljb24tc2VsZWN0b3IuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEljb25TZWxlY3RvckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIGljb25DYXRlZ29yaWVzVG9FeGNsdWRlOiBzdHJpbmdbXSA9IFtdO1xuICBASW5wdXQoKSBzaG93SWNvbkNsYXNzID0gdHJ1ZTtcbiAgQE91dHB1dCgpIG9uU2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG5cbiAgaWNvbkNhdGVnb3JpZXM6IEljb25DYXRlZ29yeVtdO1xuICBzZWxlY3RlZEljb25DYXRlZ29yeTogSWNvbkNhdGVnb3J5O1xuICBpY29uczogRGVmYXVsdEljb25zO1xuICBASW5wdXQoKSBzZWxlY3RlZEljb246IHN0cmluZztcbiAgcXVpY2tTZWFyY2g6IHN0cmluZztcblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmljb25DYXRlZ29yaWVzID0gdGhpcy5jb21wb3NlSWNvbkNhdGVnb3JpZXMoKTtcbiAgICB0aGlzLnNlbGVjdGVkSWNvbkNhdGVnb3J5ID0gYWxsSWNvbkNhdGVnb3J5O1xuICAgIHRoaXMucmVzZXRJY29ucygpO1xuICB9XG5cbiAgb25DYXRlZ29yeUZpbHRlckNoYW5nZWQoKTogdm9pZCB7XG4gICAgY29uc3Qgc2VsZWN0ZWRDYXRlZ29yeSA9IHRoaXMuc2VsZWN0ZWRJY29uQ2F0ZWdvcnk7XG4gICAgaWYgKHNlbGVjdGVkQ2F0ZWdvcnkubmFtZSA9PT0gYWxsSWNvbkNhdGVnb3J5Lm5hbWUpIHtcbiAgICAgIHRoaXMucmVzZXRJY29ucygpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmljb25zID0ge1xuICAgICAgICBbc2VsZWN0ZWRDYXRlZ29yeS5uYW1lXTogaWNvbnNCeUNhdGVnb3J5W3NlbGVjdGVkQ2F0ZWdvcnkubmFtZV1cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgb25JY29uQ2xpY2tlZChpY29uOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNlbGVjdGVkSWNvbiA9IGljb247XG4gICAgdGhpcy5vblNlbGVjdC5lbWl0KGljb24pO1xuICB9XG5cbiAgcHJpdmF0ZSBjb21wb3NlSWNvbkNhdGVnb3JpZXMoKTogSWNvbkNhdGVnb3J5W10ge1xuICAgIGNvbnN0IGljb25DYXRlZ29yaWVzID0gW2FsbEljb25DYXRlZ29yeV07XG4gICAgZm9yIChjb25zdCBpY29uVHlwZSBvZiBPYmplY3Qua2V5cyhpY29uc0J5Q2F0ZWdvcnkpKSB7XG4gICAgICBpZiAodGhpcy5pY29uQ2F0ZWdvcmllc1RvRXhjbHVkZS5pbmNsdWRlcyhpY29uVHlwZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpY29uQ2F0ZWdvcmllcy5wdXNoKHtcbiAgICAgICAgbmFtZTogaWNvblR5cGUsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBpY29uc0J5Q2F0ZWdvcnlbaWNvblR5cGVdLmxhYmVsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGljb25DYXRlZ29yaWVzO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNldEljb25zKCkge1xuICAgIHRoaXMuaWNvbnMgPSB7IC4uLmljb25zQnlDYXRlZ29yeSB9O1xuICAgIHRoaXMuaWNvbkNhdGVnb3JpZXNUb0V4Y2x1ZGUuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICBpZiAodGhpcy5pY29uc1tjYXRlZ29yeV0pIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuaWNvbnNbY2F0ZWdvcnldO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXX0=