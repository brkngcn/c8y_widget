import { Component, Input } from '@angular/core';
import { gettext } from '../i18n/gettext';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';
import * as ɵngcc2 from '../i18n/c8y-translate.pipe';

const _c0 = function (a0, a1) { return { active: a0, inactive: a1 }; };
export class RealtimeButtonComponent {
    constructor() {
        this.label = gettext('Realtime');
        this.title = gettext('Toggle realtime');
    }
    get active() {
        return !!this.service && this.service.active;
    }
    toggle() {
        if (this.service) {
            this.active ? this.service.stop() : this.service.start();
        }
    }
}
RealtimeButtonComponent.ɵfac = function RealtimeButtonComponent_Factory(t) { return new (t || RealtimeButtonComponent)(); };
RealtimeButtonComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: RealtimeButtonComponent, selectors: [["c8y-realtime-btn"]], inputs: { label: "label", title: "title", service: "service" }, decls: 6, vars: 10, consts: [["type", "button", 1, "btn", "btn-link", "c8y-realtime", 3, "title", "click"], [1, "c8y-pulse", 3, "ngClass"]], template: function RealtimeButtonComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "button", 0);
        ɵngcc0.ɵɵlistener("click", function RealtimeButtonComponent_Template_button_click_0_listener() { return ctx.toggle(); });
        ɵngcc0.ɵɵpipe(1, "translate");
        ɵngcc0.ɵɵelement(2, "span", 1);
        ɵngcc0.ɵɵelementStart(3, "span");
        ɵngcc0.ɵɵtext(4);
        ɵngcc0.ɵɵpipe(5, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 3, ctx.title));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction2(7, _c0, ctx.active, !ctx.active));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(5, 5, ctx.label));
    } }, directives: [ɵngcc1.NgClass], pipes: [ɵngcc2.C8yTranslatePipe], encapsulation: 2 });
RealtimeButtonComponent.propDecorators = {
    service: [{ type: Input }],
    label: [{ type: Input }],
    title: [{ type: Input }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(RealtimeButtonComponent, [{
        type: Component,
        args: [{
                selector: 'c8y-realtime-btn',
                template: "<button\n  type=\"button\"\n  class=\"btn btn-link c8y-realtime\"\n  title=\"{{ title | translate }}\"\n  (click)=\"toggle()\"\n>\n  <span class=\"c8y-pulse\" [ngClass]=\"{ active: active, inactive: !active }\"></span>\n  <span>{{ label | translate }}</span>\n</button>\n"
            }]
    }], function () { return []; }, { label: [{
            type: Input
        }], title: [{
            type: Input
        }], service: [{
            type: Input
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhbHRpbWUtYnV0dG9uLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vY29yZS9yZWFsdGltZS9yZWFsdGltZS1idXR0b24uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQzs7Ozs7O0FBTzFDLE1BQU0sT0FBTyx1QkFBdUI7QUFDcEMsSUFMQTtBQUNHLFFBT0QsVUFBSyxHQUFXLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUN0QyxRQUNFLFVBQUssR0FBVyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztBQUM3QyxJQVVBLENBQUM7QUFDRCxJQVZFLElBQUksTUFBTTtBQUFLLFFBQ2IsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztBQUNqRCxJQUFFLENBQUM7QUFDSCxJQUNFLE1BQU07QUFDUixRQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtBQUN0QixZQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDL0QsU0FBSztBQUNMLElBQUUsQ0FBQztBQUNIO21EQXJCQyxTQUFTLFNBQUMsa0JBQ1QsUUFBUSxFQUFFLGtCQUFrQjtRQUM1QiwyUkFBK0MsY0FDaEQ7Ozs7Ozs7Ozs7Ozs7Ozs7NkZBQ0k7QUFBQztBQUNJLHNCQUFQLEtBQUs7QUFDTixvQkFDQyxLQUFLO0FBQ04sb0JBQ0MsS0FBSztBQUNQOzs7Ozs7Ozs7Ozs7O29CQUFFO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBnZXR0ZXh0IH0gZnJvbSAnLi4vaTE4bi9nZXR0ZXh0JztcbmltcG9ydCB7IFJlYWx0aW1lU2VydmljZSB9IGZyb20gJy4vcmVhbHRpbWUuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1yZWFsdGltZS1idG4nLFxuICB0ZW1wbGF0ZVVybDogJy4vcmVhbHRpbWUtYnV0dG9uLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBSZWFsdGltZUJ1dHRvbkNvbXBvbmVudCB7XG4gIEBJbnB1dCgpXG4gIHNlcnZpY2U6IFJlYWx0aW1lU2VydmljZTxhbnk+O1xuICBASW5wdXQoKVxuICBsYWJlbDogc3RyaW5nID0gZ2V0dGV4dCgnUmVhbHRpbWUnKTtcbiAgQElucHV0KClcbiAgdGl0bGU6IHN0cmluZyA9IGdldHRleHQoJ1RvZ2dsZSByZWFsdGltZScpO1xuXG4gIGdldCBhY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy5zZXJ2aWNlICYmIHRoaXMuc2VydmljZS5hY3RpdmU7XG4gIH1cblxuICB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMuc2VydmljZSkge1xuICAgICAgdGhpcy5hY3RpdmUgPyB0aGlzLnNlcnZpY2Uuc3RvcCgpIDogdGhpcy5zZXJ2aWNlLnN0YXJ0KCk7XG4gICAgfVxuICB9XG59XG4iXX0=