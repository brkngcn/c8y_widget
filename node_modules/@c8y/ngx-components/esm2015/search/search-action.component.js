import { Component } from '@angular/core';
import { Router } from '@angular/router';
import { RouterService as C8yRouter } from '@c8y/ngx-components';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@c8y/ngx-components';
import * as ɵngcc2 from '@angular/router';
export class SearchActionComponent {
    constructor(c8yRouter, router) {
        this.c8yRouter = c8yRouter;
        this.router = router;
    }
    onSearch(on) {
        this.navigate(['/assetsearch'], {
            queryParams: { search: on },
            replaceUrl: true
        });
    }
    onFilter(on) {
        this.navigate(['/assetsearch'], {
            queryParams: { filter: on },
            replaceUrl: true
        });
    }
    onClick(mo) {
        this.router.navigateByUrl(this.c8yRouter.getHref(mo, '/'));
    }
    navigate(commands, extras) {
        this.router
            .navigateByUrl('/', { skipLocationChange: true })
            .then(() => this.router.navigate(commands, extras));
    }
}
SearchActionComponent.ɵfac = function SearchActionComponent_Factory(t) { return new (t || SearchActionComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.RouterService), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Router)); };
SearchActionComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: SearchActionComponent, selectors: [["c8y-search-action"]], decls: 1, vars: 0, consts: [[3, "filter", "search", "onClick"]], template: function SearchActionComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-search-input", 0);
        ɵngcc0.ɵɵlistener("filter", function SearchActionComponent_Template_c8y_search_input_filter_0_listener($event) { return ctx.onFilter($event); })("search", function SearchActionComponent_Template_c8y_search_input_search_0_listener($event) { return ctx.onSearch($event); })("onClick", function SearchActionComponent_Template_c8y_search_input_onClick_0_listener($event) { return ctx.onClick($event); });
        ɵngcc0.ɵɵelementEnd();
    } }, directives: [ɵngcc1.SearchInputComponent], encapsulation: 2 });
SearchActionComponent.ctorParameters = () => [
    { type: C8yRouter },
    { type: Router }
];
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(SearchActionComponent, [{
        type: Component,
        args: [{
                selector: 'c8y-search-action',
                template: "<c8y-search-input\n  (filter)=\"onFilter($event)\"\n  (search)=\"onSearch($event)\"\n  (onClick)=\"onClick($event)\"\n></c8y-search-input>\n"
            }]
    }], function () { return [{ type: ɵngcc1.RouterService }, { type: ɵngcc2.Router }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VhcmNoLWFjdGlvbi5jb21wb25lbnQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlYXJjaC9zZWFyY2gtYWN0aW9uLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTFDLE9BQU8sRUFBb0IsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0QsT0FBTyxFQUFFLGFBQWEsSUFBSSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQzs7OztBQU1qRSxNQUFNLE9BQU8scUJBQXFCO0FBQ2xDLElBQUUsWUFBb0IsU0FBb0IsRUFBVSxNQUFjO0FBQUksUUFBaEQsY0FBUyxHQUFULFNBQVMsQ0FBVztBQUFDLFFBQVMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtBQUFDLElBQUUsQ0FBQztBQUN0RSxJQUNFLFFBQVEsQ0FBQyxFQUFVO0FBQ3JCLFFBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxFQUFFO0FBQ3BDLFlBQU0sV0FBVyxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRTtBQUNqQyxZQUFNLFVBQVUsRUFBRSxJQUFJO0FBQ3RCLFNBQUssQ0FBQyxDQUFDO0FBQ1AsSUFBRSxDQUFDO0FBQ0gsSUFDRSxRQUFRLENBQUMsRUFBVTtBQUNyQixRQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxjQUFjLENBQUMsRUFBRTtBQUNwQyxZQUFNLFdBQVcsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUU7QUFDakMsWUFBTSxVQUFVLEVBQUUsSUFBSTtBQUN0QixTQUFLLENBQUMsQ0FBQztBQUNQLElBQUUsQ0FBQztBQUNILElBQ0UsT0FBTyxDQUFDLEVBQWtCO0FBQzVCLFFBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDL0QsSUFBRSxDQUFDO0FBQ0gsSUFDVSxRQUFRLENBQUMsUUFBZSxFQUFFLE1BQXlCO0FBQzdELFFBQUksSUFBSSxDQUFDLE1BQU07QUFDZixhQUFPLGFBQWEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxrQkFBa0IsRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUN2RCxhQUFPLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUMxRCxJQUFFLENBQUM7QUFDSDtpREE5QkMsU0FBUyxTQUFDLGtCQUNULFFBQVEsRUFBRSxtQkFBbUIsa0JBQzdCOzhFQUE2QyxjQUM5Qzs7Ozt3RUFDSTtBQUFDO0FBQ1UsWUFQVSxTQUFTO0FBQUksWUFEWixNQUFNO0FBQUc7Ozs7Ozs7dUdBQUU7QUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSU1hbmFnZWRPYmplY3QgfSBmcm9tICdAYzh5L2NsaWVudCc7XG5pbXBvcnQgeyBOYXZpZ2F0aW9uRXh0cmFzLCBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgUm91dGVyU2VydmljZSBhcyBDOHlSb3V0ZXIgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LXNlYXJjaC1hY3Rpb24nLFxuICB0ZW1wbGF0ZVVybDogJy4vc2VhcmNoLWFjdGlvbi5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgU2VhcmNoQWN0aW9uQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjOHlSb3V0ZXI6IEM4eVJvdXRlciwgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcikge31cblxuICBvblNlYXJjaChvbjogc3RyaW5nKSB7XG4gICAgdGhpcy5uYXZpZ2F0ZShbJy9hc3NldHNlYXJjaCddLCB7XG4gICAgICBxdWVyeVBhcmFtczogeyBzZWFyY2g6IG9uIH0sXG4gICAgICByZXBsYWNlVXJsOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBvbkZpbHRlcihvbjogc3RyaW5nKSB7XG4gICAgdGhpcy5uYXZpZ2F0ZShbJy9hc3NldHNlYXJjaCddLCB7XG4gICAgICBxdWVyeVBhcmFtczogeyBmaWx0ZXI6IG9uIH0sXG4gICAgICByZXBsYWNlVXJsOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICBvbkNsaWNrKG1vOiBJTWFuYWdlZE9iamVjdCkge1xuICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwodGhpcy5jOHlSb3V0ZXIuZ2V0SHJlZihtbywgJy8nKSk7XG4gIH1cblxuICBwcml2YXRlIG5hdmlnYXRlKGNvbW1hbmRzOiBhbnlbXSwgZXh0cmFzPzogTmF2aWdhdGlvbkV4dHJhcykge1xuICAgIHRoaXMucm91dGVyXG4gICAgICAubmF2aWdhdGVCeVVybCgnLycsIHsgc2tpcExvY2F0aW9uQ2hhbmdlOiB0cnVlIH0pXG4gICAgICAudGhlbigoKSA9PiB0aGlzLnJvdXRlci5uYXZpZ2F0ZShjb21tYW5kcywgZXh0cmFzKSk7XG4gIH1cbn1cbiJdfQ==