import { Component, Input } from '@angular/core';
import { DEFAULT_HOME_DASHBOARD_NAME, HomeDashboardType, USER_HOME_DASHBOARD_NAME } from './cockpit-config.model';
import { CockpitConfigService } from './cockpit-config.service';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './cockpit-config.service';
import * as ɵngcc2 from '@c8y/ngx-components';
export class HomeDashboardConfigComponent {
    /**
     * @ignore
     */
    constructor(cockpitConfigService) {
        this.cockpitConfigService = cockpitConfigService;
        /**
         * The types of dashboard that can be configured.
         */
        this.homeDashboardTypes = HomeDashboardType;
    }
    /**
     * @ignore
     */
    dashboardChange(selected, type) {
        if (!selected) {
            return;
        }
        switch (type) {
            case this.homeDashboardTypes.DEFAULT: {
                this.config.homeDashboardName = DEFAULT_HOME_DASHBOARD_NAME;
                this.config.userSpecificHomeDashboard = false;
                break;
            }
            case this.homeDashboardTypes.APP: {
                this.config.homeDashboardName = this.cockpitConfigService.getAppDashboardName();
                this.config.userSpecificHomeDashboard = false;
                break;
            }
            case this.homeDashboardTypes.USER: {
                this.config.homeDashboardName = USER_HOME_DASHBOARD_NAME;
                this.config.userSpecificHomeDashboard = true;
                break;
            }
        }
    }
    /**
     * @ignore
     */
    verifySelected(type) {
        if (type === this.homeDashboardTypes.USER) {
            return this.config.userSpecificHomeDashboard;
        }
        if (type === this.homeDashboardTypes.DEFAULT) {
            return this.config.homeDashboardName === DEFAULT_HOME_DASHBOARD_NAME;
        }
        return this.config.homeDashboardName === this.cockpitConfigService.getAppDashboardName();
    }
}
HomeDashboardConfigComponent.ɵfac = function HomeDashboardConfigComponent_Factory(t) { return new (t || HomeDashboardConfigComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.CockpitConfigService)); };
HomeDashboardConfigComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: HomeDashboardConfigComponent, selectors: [["c8y-home-dashboard-config"]], inputs: { config: "config" }, decls: 19, vars: 3, consts: [[1, "separator-top"], [3, "selected", "onSelect"], ["translate", ""]], template: function HomeDashboardConfigComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-list-group", 0);
        ɵngcc0.ɵɵelementStart(1, "c8y-li");
        ɵngcc0.ɵɵelementStart(2, "c8y-li-radio", 1);
        ɵngcc0.ɵɵlistener("onSelect", function HomeDashboardConfigComponent_Template_c8y_li_radio_onSelect_2_listener($event) { return ctx.dashboardChange($event, ctx.homeDashboardTypes.DEFAULT); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "p", 2);
        ɵngcc0.ɵɵtext(4, "Default home dashboard");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(5, "small", 2);
        ɵngcc0.ɵɵtext(6, "Changes done in the home dashboard are reflected across the platform.");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(7, "c8y-li");
        ɵngcc0.ɵɵelementStart(8, "c8y-li-radio", 1);
        ɵngcc0.ɵɵlistener("onSelect", function HomeDashboardConfigComponent_Template_c8y_li_radio_onSelect_8_listener($event) { return ctx.dashboardChange($event, ctx.homeDashboardTypes.APP); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(9, "p", 2);
        ɵngcc0.ɵɵtext(10, "Custom home dashboard");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(11, "small", 2);
        ɵngcc0.ɵɵtext(12, "Changes done to the home dashboard are reflected only in the current application.");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(13, "c8y-li");
        ɵngcc0.ɵɵelementStart(14, "c8y-li-radio", 1);
        ɵngcc0.ɵɵlistener("onSelect", function HomeDashboardConfigComponent_Template_c8y_li_radio_onSelect_14_listener($event) { return ctx.dashboardChange($event, ctx.homeDashboardTypes.USER); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(15, "p", 2);
        ɵngcc0.ɵɵtext(16, "User home dashboard");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(17, "small", 2);
        ɵngcc0.ɵɵtext(18, "Changes done to the home dashboard are reflected only for the current user. NOTE: This user needs to have inventory write permission.");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("selected", ctx.verifySelected(ctx.homeDashboardTypes.DEFAULT));
        ɵngcc0.ɵɵadvance(6);
        ɵngcc0.ɵɵproperty("selected", ctx.verifySelected(ctx.homeDashboardTypes.APP));
        ɵngcc0.ɵɵadvance(6);
        ɵngcc0.ɵɵproperty("selected", ctx.verifySelected(ctx.homeDashboardTypes.USER));
    } }, directives: [ɵngcc2.ListGroupComponent, ɵngcc2.ListItemComponent, ɵngcc2.ListItemRadioComponent, ɵngcc2.C8yTranslateDirective], encapsulation: 2 });
HomeDashboardConfigComponent.ctorParameters = () => [
    { type: CockpitConfigService }
];
HomeDashboardConfigComponent.propDecorators = {
    config: [{ type: Input }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(HomeDashboardConfigComponent, [{
        type: Component,
        args: [{
                selector: 'c8y-home-dashboard-config',
                template: "<c8y-list-group class=\"separator-top\">\n  <c8y-li>\n    <c8y-li-radio\n      (onSelect)=\"dashboardChange($event, homeDashboardTypes.DEFAULT)\"\n      [selected]=\"verifySelected(homeDashboardTypes.DEFAULT)\"\n    >\n    </c8y-li-radio>\n    <p translate>Default home dashboard</p>\n    <small translate>Changes done in the home dashboard are reflected across the platform.</small>\n  </c8y-li>\n  <c8y-li>\n    <c8y-li-radio\n      (onSelect)=\"dashboardChange($event, homeDashboardTypes.APP)\"\n      [selected]=\"verifySelected(homeDashboardTypes.APP)\"\n    >\n    </c8y-li-radio>\n    <p translate>Custom home dashboard</p>\n    <small translate\n      >Changes done to the home dashboard are reflected only in the current application.</small\n    >\n  </c8y-li>\n  <c8y-li>\n    <c8y-li-radio\n      (onSelect)=\"dashboardChange($event, homeDashboardTypes.USER)\"\n      [selected]=\"verifySelected(homeDashboardTypes.USER)\"\n    >\n    </c8y-li-radio>\n    <p translate>User home dashboard</p>\n    <small translate\n      >Changes done to the home dashboard are reflected only for the current user. NOTE: This user\n      needs to have inventory write permission.</small\n    >\n  </c8y-li>\n</c8y-list-group>\n"
            }]
    }], function () { return [{ type: ɵngcc1.CockpitConfigService }]; }, { config: [{
            type: Input
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9tZS1kYXNoYm9hcmQtY29uZmlnLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vY29ja3BpdC1jb25maWcvaG9tZS1kYXNoYm9hcmQtY29uZmlnLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBRUwsMkJBQTJCLEVBQzNCLGlCQUFpQixFQUNqQix3QkFBd0IsRUFDekIsTUFBTSx3QkFBd0IsQ0FBQztBQUNoQyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQzs7OztBQU1oRSxNQUFNLE9BQU8sNEJBQTRCO0FBQ3pDLElBUUU7QUFDRjtBQUNFLE9BQUc7QUFDTCxJQUFFLFlBQW9CLG9CQUEwQztBQUFJLFFBQTlDLHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBc0I7QUFBQyxRQVIvRDtBQUNGO0FBRUEsV0FESztBQUNMLFFBQVcsdUJBQWtCLEdBQUcsaUJBQWlCLENBQUM7QUFDbEQsSUFJbUUsQ0FBQztBQUNwRSxJQUNFO0FBQ0Y7QUFDRSxPQUFHO0FBQ0wsSUFBRSxlQUFlLENBQUMsUUFBaUIsRUFBRSxJQUF1QjtBQUM1RCxRQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7QUFDbkIsWUFBTSxPQUFPO0FBQ2IsU0FBSztBQUNMLFFBQ0ksUUFBUSxJQUFJLEVBQUU7QUFDbEIsWUFBTSxLQUFLLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM1QyxnQkFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixHQUFHLDJCQUEyQixDQUFDO0FBQ3BFLGdCQUFRLElBQUksQ0FBQyxNQUFNLENBQUMseUJBQXlCLEdBQUcsS0FBSyxDQUFDO0FBQ3RELGdCQUFRLE1BQU07QUFDZCxhQUFPO0FBQ1AsWUFBTSxLQUFLLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN4QyxnQkFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0FBQ3hGLGdCQUFRLElBQUksQ0FBQyxNQUFNLENBQUMseUJBQXlCLEdBQUcsS0FBSyxDQUFDO0FBQ3RELGdCQUFRLE1BQU07QUFDZCxhQUFPO0FBQ1AsWUFBTSxLQUFLLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6QyxnQkFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixHQUFHLHdCQUF3QixDQUFDO0FBQ2pFLGdCQUFRLElBQUksQ0FBQyxNQUFNLENBQUMseUJBQXlCLEdBQUcsSUFBSSxDQUFDO0FBQ3JELGdCQUFRLE1BQU07QUFDZCxhQUFPO0FBQ1AsU0FBSztBQUNMLElBQUUsQ0FBQztBQUNILElBQ0U7QUFDRjtBQUNFLE9BQUc7QUFDTCxJQUFFLGNBQWMsQ0FBQyxJQUF1QjtBQUN4QyxRQUFJLElBQUksSUFBSSxLQUFLLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUU7QUFDL0MsWUFBTSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMseUJBQXlCLENBQUM7QUFDbkQsU0FBSztBQUNMLFFBQUksSUFBSSxJQUFJLEtBQUssSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sRUFBRTtBQUNsRCxZQUFNLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsS0FBSywyQkFBMkIsQ0FBQztBQUMzRSxTQUFLO0FBQ0wsUUFBSSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEtBQUssSUFBSSxDQUFDLG9CQUFvQixDQUFDLG1CQUFtQixFQUFFLENBQUM7QUFDN0YsSUFBRSxDQUFDO0FBQ0g7d0RBekRDLFNBQVMsU0FBQyxrQkFDVCxRQUFRLEVBQUUsMkJBQTJCLGtCQUNyQzs7Ozs7Ozs7Ozs7Ozs7OztPQUFxRCxjQUN0RDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs2SkFDSTtBQUFDO0FBRUQsWUFSSSxvQkFBb0I7QUFBRztBQUFHO0FBRy9CLHFCQUlELEtBQUs7QUFDUDs7Ozs7Ozs7O29CQUFFO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBDb2NrcGl0Q29uZmlnLFxuICBERUZBVUxUX0hPTUVfREFTSEJPQVJEX05BTUUsXG4gIEhvbWVEYXNoYm9hcmRUeXBlLFxuICBVU0VSX0hPTUVfREFTSEJPQVJEX05BTUVcbn0gZnJvbSAnLi9jb2NrcGl0LWNvbmZpZy5tb2RlbCc7XG5pbXBvcnQgeyBDb2NrcGl0Q29uZmlnU2VydmljZSB9IGZyb20gJy4vY29ja3BpdC1jb25maWcuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1ob21lLWRhc2hib2FyZC1jb25maWcnLFxuICB0ZW1wbGF0ZVVybDogJy4vaG9tZS1kYXNoYm9hcmQtY29uZmlnLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBIb21lRGFzaGJvYXJkQ29uZmlnQ29tcG9uZW50IHtcbiAgQElucHV0KClcbiAgY29uZmlnOiBDb2NrcGl0Q29uZmlnO1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZXMgb2YgZGFzaGJvYXJkIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQuXG4gICAqL1xuICByZWFkb25seSBob21lRGFzaGJvYXJkVHlwZXMgPSBIb21lRGFzaGJvYXJkVHlwZTtcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjb2NrcGl0Q29uZmlnU2VydmljZTogQ29ja3BpdENvbmZpZ1NlcnZpY2UpIHt9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGRhc2hib2FyZENoYW5nZShzZWxlY3RlZDogYm9vbGVhbiwgdHlwZTogSG9tZURhc2hib2FyZFR5cGUpIHtcbiAgICBpZiAoIXNlbGVjdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIHRoaXMuaG9tZURhc2hib2FyZFR5cGVzLkRFRkFVTFQ6IHtcbiAgICAgICAgdGhpcy5jb25maWcuaG9tZURhc2hib2FyZE5hbWUgPSBERUZBVUxUX0hPTUVfREFTSEJPQVJEX05BTUU7XG4gICAgICAgIHRoaXMuY29uZmlnLnVzZXJTcGVjaWZpY0hvbWVEYXNoYm9hcmQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIHRoaXMuaG9tZURhc2hib2FyZFR5cGVzLkFQUDoge1xuICAgICAgICB0aGlzLmNvbmZpZy5ob21lRGFzaGJvYXJkTmFtZSA9IHRoaXMuY29ja3BpdENvbmZpZ1NlcnZpY2UuZ2V0QXBwRGFzaGJvYXJkTmFtZSgpO1xuICAgICAgICB0aGlzLmNvbmZpZy51c2VyU3BlY2lmaWNIb21lRGFzaGJvYXJkID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSB0aGlzLmhvbWVEYXNoYm9hcmRUeXBlcy5VU0VSOiB7XG4gICAgICAgIHRoaXMuY29uZmlnLmhvbWVEYXNoYm9hcmROYW1lID0gVVNFUl9IT01FX0RBU0hCT0FSRF9OQU1FO1xuICAgICAgICB0aGlzLmNvbmZpZy51c2VyU3BlY2lmaWNIb21lRGFzaGJvYXJkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHZlcmlmeVNlbGVjdGVkKHR5cGU6IEhvbWVEYXNoYm9hcmRUeXBlKSB7XG4gICAgaWYgKHR5cGUgPT09IHRoaXMuaG9tZURhc2hib2FyZFR5cGVzLlVTRVIpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy51c2VyU3BlY2lmaWNIb21lRGFzaGJvYXJkO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gdGhpcy5ob21lRGFzaGJvYXJkVHlwZXMuREVGQVVMVCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmhvbWVEYXNoYm9hcmROYW1lID09PSBERUZBVUxUX0hPTUVfREFTSEJPQVJEX05BTUU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNvbmZpZy5ob21lRGFzaGJvYXJkTmFtZSA9PT0gdGhpcy5jb2NrcGl0Q29uZmlnU2VydmljZS5nZXRBcHBEYXNoYm9hcmROYW1lKCk7XG4gIH1cbn1cbiJdfQ==